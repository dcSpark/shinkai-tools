{"type":"Python","content":[{"name":"Chess Move","tool_router_key":"local:::__official_shinkai:::chess_move","homepage":null,"author":"@@official.shinkai","version":"1.0.0","mcp_enabled":null,"py_code":"# /// script\n# dependencies = [\n#   \"python-chess>=1.999\"\n# ]\n# ///\nimport chess\nfrom typing import Dict, Any, Optional, List\n\nclass CONFIG:\n    pass\n\nclass INPUTS:\n    fen: str\n    move_uci: str\n\nclass OUTPUT:\n    new_fen: str\n    is_legal: bool\n\nasync def run(c: CONFIG, p: INPUTS) -> OUTPUT:\n    if not p.fen:\n        raise ValueError(\"No FEN provided\")\n    if not p.move_uci:\n        raise ValueError(\"No UCI move provided\")\n\n    board = chess.Board()\n    try:\n        board.set_fen(p.fen)\n    except ValueError:\n        raise ValueError(\"Invalid FEN\")\n\n    # Validate the move format, e.g. \"e2e4\", \"e7e8q\"\n    if len(p.move_uci) < 4 or len(p.move_uci) > 5:\n        raise ValueError(f\"Move '{p.move_uci}' not in typical UCI format\")\n\n    move = None\n    try:\n        move = board.parse_uci(p.move_uci)\n    except:\n        pass\n\n    result = OUTPUT()\n    if move and move in board.legal_moves:\n        board.push(move)\n        result.is_legal = True\n        result.new_fen = board.fen()\n    else:\n        result.is_legal = False\n        result.new_fen = board.fen()  # unchanged\n\n    return result ","tools":[],"config":[],"description":"Apply a move in UCI format to a given FEN and return the resulting position","keywords":["chess","move","uci","fen","position","game"],"input_args":{"type":"object","properties":{"fen":{"type":"string","description":"FEN describing the current position"},"move_uci":{"type":"string","description":"Move in UCI format (e.g. 'e2e4')"}},"required":["fen","move_uci"]},"output_arg":{"json":""},"activated":false,"embedding":[-0.1546532,0.52424383,-0.13226312,-0.600952,-0.65924704,0.18781833,-0.046356335,-0.56134266,-0.659589,-0.37630916,0.40093428,0.17057107,-0.22088526,0.34875748,0.22728153,-0.6032715,-0.4138931,-0.0838899,-1.5551257,-0.009757124,-0.012693352,0.1752172,0.3642132,0.14769876,-0.47742376,-0.41039672,0.09541397,-0.09039097,-1.2317966,-2.1517324,0.11078486,0.3241226,-0.48261607,-0.10988712,0.45219475,-0.6592773,-0.2527279,0.18290569,-0.21641843,-0.32574007,-0.50426334,0.07878649,-0.11021116,0.11816054,0.45565015,0.17224056,0.18048565,-0.17350006,1.0709828,0.667819,-0.8933589,-0.3049179,-0.17401893,-0.2284461,-0.17668334,-0.36155832,0.43224686,-0.0130079705,0.00345294,0.08970834,-0.099272355,-0.16165575,-3.6785407,0.41658363,0.38545707,-0.09520941,0.2798364,0.6396306,0.1461904,0.5049086,0.13327982,0.29454312,0.19155008,0.45897448,0.3492112,-0.43872887,-0.15774012,-0.05618029,0.20797211,-0.69267327,-0.2998687,0.9321111,-0.14298047,0.18209346,-0.591072,0.408155,-0.14284597,-0.0142367035,-0.068455145,0.015903242,-0.11933905,0.388581,0.7106753,-0.3529727,-0.9842694,0.41701347,-0.013558774,0.9065315,0.06816358,3.0414627,0.3760115,-0.23241797,0.43002665,-0.3566303,0.40277454,-0.44968534,-0.08829637,-0.68451226,0.17195594,-0.34902978,-0.27387366,-0.37260565,-0.079654306,-0.74850893,-0.58082014,0.1942796,-0.09316186,-0.007335119,-0.028572775,0.86742383,-0.6891883,0.34985203,-0.116507724,0.1534997,0.20983163,-0.30933902,-0.6352288,0.34554335,0.1187167,-0.026928332,0.79317164,0.9463963,-0.8553006,0.080236316,-0.0037688687,-0.27828577,0.5064689,-0.8175361,-0.21099466,-0.11405091,0.27445757,-1.3090166,1.4701742,-0.43712482,1.0357319,-0.084643275,-0.12448386,-0.25572655,-0.6193065,-0.55087763,-0.53572714,0.72261226,0.648668,0.7612404,0.47249126,-0.22641379,-0.68835044,-0.13956,-0.7546606,-0.030892357,-0.22530054,-0.27613923,0.3110243,0.4186918,0.44401506,-0.003072001,0.2852482,0.6532144,-0.022858799,-0.18785255,0.17180851,-0.15698287,0.10021069,0.5882913,0.43164885,0.28368592,0.6814157,-0.48216736,0.4735795,-0.52445227,0.034764275,0.50138247,-0.54998,-0.25354356,0.10028243,0.5449076,0.25882792,0.013622016,0.84307486,1.66833,-0.22563279,1.4495915,-1.199913,-0.18358117,-0.112624295,0.59624213,0.30147487,-0.10118964,0.25034013,0.37670547,-0.28919467,-0.18478553,0.2712898,0.21569923,0.08813883,-1.0441918,0.36041746,0.05141277,0.073812984,-0.016621392,0.10382281,-0.13445315,1.1449959,0.14753519,0.36640862,0.27024412,0.87402475,0.93102175,-0.12984106,0.1420899,-0.11315099,0.8663026,-0.60983104,-0.5138539,-1.2053208,-0.31758243,-0.38751835,-0.6279827,-0.003411308,0.068856426,0.11670428,0.085985966,0.2545286,1.0473187,0.61456555,-0.20768687,0.19658023,0.29608676,0.1093564,-0.91844857,0.3103141,0.30551767,-0.106561825,-0.44665074,0.10521714,-0.8805835,-0.3249613,0.24303076,0.12876089,2.10999,1.2620001,0.38481566,0.3634206,0.67630583,-0.16852838,-0.27491102,-1.1951114,-0.41740787,-0.029073603,0.29053566,-0.27700013,0.009170666,0.56274664,-0.4063663,0.024191562,-0.5761441,0.004545793,0.43913206,0.058301978,-0.11955097,-0.17415206,0.74176276,-0.013108522,-0.15005878,-0.17719269,-0.034628414,-0.070052646,-0.5701073,-0.45515716,-0.0048933923,-0.05688175,-0.5800059,0.09905067,0.31575933,-0.26778007,-0.29890472,-0.4589494,-0.88257813,-0.158497,0.26747084,-0.5340549,-1.2072536,-0.6687099,0.2072367,1.4656103,-0.64759016,-0.9779792,0.28964174,0.0725612,0.38079506,0.06930744,0.3078733,-0.29017258,0.5091908,-1.1051714,-0.7146271,0.2144088,-0.39969957,0.03413757,1.0347635,0.12979704,0.004544746,0.30753446,0.039096233,0.26583,-0.16070026,-0.08376907,0.11342836,-0.3927405,-2.1132882,0.18760547,-0.25401357,0.015830893,-0.25739366,-0.6802436,0.013222717,-0.5420718,0.13527344,-0.6210023,0.57485974,0.11755611,-0.038276933,0.4961158,-0.35205662,0.75521755,0.4234002,0.47802326,0.8437998,-0.118673265,0.59232,0.051804066,1.278765,0.23284854,0.74447703,-0.30428448,0.011555135,-0.4319579,-0.9642393,-0.1367478,0.20929433,-0.19984956,0.6503174,0.05697701,0.06756398,0.83739024,0.41626588,0.13048534,-0.33525974,0.17295405,1.3585892,0.047861025,0.1961368,0.0514976,-0.09691988,-0.4351359,0.074851416,0.2443615,-0.2424565,0.0038889274,-0.02921766,0.7031775,-0.93981266,0.37337413,0.014661372,1.4127548,0.8449564,-0.30280644,0.9849926,0.29985106,-0.03834508,0.61730057,-0.61763453,-0.8063153,0.313854],"result":{"type":"object","properties":{"is_legal":{"type":"boolean"},"new_fen":{"type":"string"}},"required":["new_fen","is_legal"]},"sql_tables":null,"sql_queries":null,"file_inbox":null,"oauth":null,"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}