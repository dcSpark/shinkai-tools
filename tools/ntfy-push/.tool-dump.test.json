{"type":"Deno","content":[{"name":"Ntfy Push Notifications","homepage":null,"author":"@@official.shinkai","version":"1.0.0","mcp_enabled":null,"js_code":"import axios from 'npm:axios@1.7.7';\n\ntype Configurations = {\n  serverUrl?: string;\n};\n\ntype Parameters = {\n  topic: string;\n  message: string;\n  title?: string;\n  priority?: 'min' | 'low' | 'default' | 'high' | 'urgent';\n  tags?: string;\n};\n\ntype Result = {\n  success: boolean;\n  message: string;\n};\n\nexport type Run<C extends Record<string, any>, I extends Record<string, any>, R extends Record<string, any>> = (\n  config: C,\n  inputs: I\n) => Promise<R>;\n\nexport const run: Run<Configurations, Parameters, Result> = async (\n  configurations: Configurations,\n  params: Parameters\n): Promise<Result> => {\n  try {\n    const serverUrl = configurations?.serverUrl || 'https://ntfy.sh';\n    const { topic, message, title, priority, tags } = params;\n\n    // Build request headers\n    const headers: Record<string, string> = {\n      'Content-Type': 'text/plain',\n    };\n\n    if (title) {\n      headers['Title'] = title;\n    }\n\n    if (priority) {\n      headers['Priority'] = priority;\n    }\n\n    if (tags) {\n      headers['Tags'] = tags;\n    }\n\n    // Send notification using ntfy's HTTP API\n    const response = await axios.post(\n      `${serverUrl}/${topic}`,\n      message,\n      { headers }\n    );\n\n    if (response.status === 200) {\n      return {\n        success: true,\n        message: 'Notification sent successfully'\n      };\n    } else {\n      return {\n        success: false,\n        message: `Failed to send notification: HTTP ${response.status}`\n      };\n    }\n  } catch (error) {\n    let errorMessage = 'An unknown error occurred';\n    if (error instanceof Error) {\n      errorMessage = error.message;\n    }\n    return {\n      success: false,\n      message: `Error: ${errorMessage}`\n    };\n  }\n};\n","tools":[],"config":[{"BasicConfig":{"key_name":"serverUrl","description":"The ntfy server URL. Defaults to https://ntfy.sh if not provided.","required":false,"type":null,"key_value":null}}],"description":"Sends push notifications to specific groups using ntfy. Supports message priority, tags, and titles.","keywords":["ntfy","notifications","push","shinkai"],"input_args":{"type":"object","properties":{"topic":{"type":"string","description":"The topic/group to send the notification to. Acts as a channel for notifications."},"message":{"type":"string","description":"The notification message content"},"title":{"type":"string","description":"Optional title for the notification"},"tags":{"type":"string","description":"Comma-separated list of tags. Can include emoji shortcodes."},"priority":{"type":"string","description":"Priority level of the notification. Affects how urgently the notification is delivered."}},"required":["topic","message"]},"output_arg":{"json":""},"activated":false,"embedding":[0.22067869,-0.23291908,-0.45853418,-0.8215206,0.20603667,0.097829804,-0.60377544,0.31242135,0.29079026,-0.2162438,0.21623999,0.72362465,-0.42456785,-0.09618217,0.28193143,-0.2491025,0.23113482,-1.4162093,-1.651294,0.5280951,-0.11337197,1.2945204,0.55457073,0.24129525,0.31360883,-0.55103666,-0.4786321,0.6212856,-0.3390603,-1.6579102,-0.08664385,0.9690849,-0.45294157,-0.24801107,0.053909004,0.14884543,-0.051437024,-0.16238901,-0.816415,0.13789411,0.09581409,-0.29422882,-0.50180453,0.44980627,-0.23021576,-0.29016384,0.20762216,-0.018534098,0.13930035,0.539958,0.06570782,0.17725234,-0.11679867,0.6008911,-0.27631456,0.022608995,-0.12064725,0.73677665,0.11774047,0.6379736,-0.0786379,0.48737678,-2.953619,0.34527862,0.113756545,-0.14069149,-0.67363816,-0.31914446,0.26493403,-0.31882972,0.5889971,-0.39712393,-0.31485933,0.8190287,-0.44246843,-0.6584847,0.15729186,0.4280448,-0.014298767,0.32353267,0.03926982,0.825606,0.07707351,-0.5955614,-0.8928563,0.5249059,-0.61983776,-0.4356985,-0.44017375,0.6309997,-0.5330905,0.099861756,0.40470406,0.100674815,-0.77041173,0.21492465,0.17118277,0.92397624,1.0152832,3.3003592,0.5650058,0.6834005,-0.018010944,-0.2821818,0.6876551,-0.32952613,-0.43966174,-0.26637784,-0.08096249,-0.35842374,0.12628981,-0.6098468,-0.5389093,-0.4937988,0.014524132,0.468855,-0.62245464,0.25172877,-0.13698679,0.7343719,0.21746504,-0.15307158,-1.5506085,-0.95017886,-0.19406295,0.23877499,-1.170179,0.23333466,0.44244856,-0.11370545,0.4561113,-0.5106618,-0.7329749,-0.31691206,-0.7140375,0.145019,0.5054522,-0.20671405,-0.08949021,-0.39508963,0.89569974,-1.5313996,1.2055001,0.03217398,0.2579119,-0.40986267,-0.04409256,-0.43144053,-1.274282,0.31407765,-0.12815394,-0.11519706,0.50050914,-0.0061433353,0.4604491,-0.23928086,0.24148826,0.64859307,-0.6157943,-0.25788638,-0.022934502,-0.22229396,0.26425484,0.39670128,0.54218894,-0.47879198,0.17377491,-0.43476656,0.3736622,0.31137404,0.13124306,0.046367273,0.30587542,0.057615794,-0.10541018,0.15810683,0.12347455,-0.31471553,0.7286984,-0.6495026,0.4311016,-0.041226663,-0.79090524,-0.11795766,-0.49551105,0.13459639,0.254776,-0.35398623,0.8412714,0.50251514,-0.69756764,1.1303887,-0.44763094,-0.347948,0.34198105,-0.5771786,-0.32556975,0.7510521,0.10079625,0.5956616,-0.5924734,-0.97331655,-0.3284751,-0.07475048,-0.9880262,-1.0931163,1.4557906,0.66253656,0.4054038,0.013932597,0.1939699,-0.13731575,0.486456,0.18813746,0.18954466,-0.15187201,-0.3360294,0.3555079,0.010222395,0.25910962,0.61498374,0.42422116,-0.87262297,-0.5041944,-0.50536317,-0.40226912,-0.22215432,-0.30475718,-0.46650195,-0.4905513,-0.36782327,1.115844,0.82555073,0.79796386,0.82869303,-0.0012263656,-0.38226527,0.81319976,0.66989565,-0.088356815,0.114018835,0.033117782,0.07959561,-0.41065657,0.73206645,-0.17470625,0.0017836019,0.310752,0.0022450853,1.3649864,0.48793665,0.36959544,0.89265424,-0.36120516,0.45720768,-0.79118466,-1.349916,0.3542612,-0.33510226,0.95004135,0.5085543,-0.36899042,0.5347638,0.07966714,0.0034759794,0.3984818,-1.0401739,-0.06550545,-1.0190024,0.06911675,0.30512127,0.44601882,-0.86906505,-0.060082965,-0.3817437,-0.63715845,0.081726395,0.41195825,-0.34484744,-0.047868043,0.08330767,0.75562495,0.37289402,0.5190112,-0.18689117,-0.8162147,-0.5461507,-0.5720542,-0.70543295,0.42699838,-0.29992202,-0.25323734,-0.6609868,0.30801487,2.019121,0.88255847,-0.28583336,0.13320169,0.5043267,0.18003328,0.24231118,-0.088856064,-0.641403,-0.40705624,-1.0534692,-0.34691212,0.3184145,-0.46450278,-0.27494887,0.14489968,0.37340307,0.75159895,0.32943675,-0.54211116,0.6141324,-0.3738906,-0.17437829,0.9554881,-0.15791157,-1.598723,0.2574332,1.0455812,0.2302383,-0.69289756,-0.83516926,0.74770564,0.08564021,-0.31034198,-0.060596652,1.6971619,-0.012527867,-0.34287703,-0.79446834,-0.19422635,0.40673295,-0.36917475,0.594892,0.25339627,-0.3764836,-0.5808905,0.497981,1.4582286,0.016119152,0.28395393,-0.53226364,-0.025340922,-0.16044049,-0.8078055,1.0515193,0.27396452,-0.23886175,0.6588082,-0.06370245,-0.47055063,0.37137964,1.0856674,-0.25107527,0.02539977,-0.20302314,1.5444125,0.54060876,0.37449974,-0.6324051,0.3000442,0.016011452,-0.72854453,0.69302744,-0.27230918,-0.619839,0.70357263,0.015489636,-0.18664631,0.42971534,-0.24924475,0.35687265,-0.17894726,-0.02060139,0.2848745,0.5208107,0.75937366,-0.1051415,0.094218984,-1.29303,0.37333363],"result":{"type":"object","properties":{"message":{"description":"Success message or error details","type":"string"},"success":{"description":"Whether the notification was sent successfully","type":"boolean"}},"required":["success","message"]},"sql_tables":null,"sql_queries":null,"file_inbox":null,"oauth":null,"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}