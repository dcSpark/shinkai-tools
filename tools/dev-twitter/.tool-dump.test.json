{"type":"Deno","content":[{"name":"X/Twitter Developer API","homepage":null,"author":"@@official.shinkai","version":"1.0.0","js_code":"import { getAccessToken } from './shinkai-local-support.ts';\n\ntype CONFIG = {};\ntype INPUTS = { url: string, method: string, body?: string, query_params?: string, headers?: Record<string, string> };\ntype OUTPUT = { status: number, statusText: string, data: any };\n\nexport async function run(config: CONFIG, inputs: INPUTS): Promise<OUTPUT> {\n    const accessToken = await getAccessToken('Twitter');\n    \n    const url = new URL(inputs.url);\n    if (inputs.query_params) {\n        url.search += inputs.query_params;\n    }\n\n    const headers = new Headers({\n        'Authorization': `Bearer ${accessToken}`,\n        'Accept': 'application/json',\n        ...inputs.headers\n    });\n\n    const options: RequestInit = {\n        method: inputs.method,\n        headers: headers\n    };\n\n    if (inputs.body) {\n        headers.set('Content-Type', 'application/json');\n        options.body = inputs.body;\n    }\n\n    const response = await fetch(url, options);\n    let data;\n    try {\n        data = await response.json();\n    } catch (error) {\n        console.log(error);\n        data = await response.text();\n    }\n\n    return {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n    };\n}\n","tools":[],"config":[],"description":"Tool to make requests to the X/Twitter Developer API using OAuth for authentication.","keywords":["x","twitter","api","request","oauth"],"input_args":{"type":"object","properties":{"url":{"type":"string","description":"The API endpoint URL"},"query_params":{"type":"string","description":"Query parameters to append to the URL"},"headers":{"type":"string","description":"Additional headers as newline-separated key:value pairs"},"body":{"type":"string","description":"Request body (if applicable)"},"method":{"type":"string","description":"HTTP method (GET, POST, PUT, DELETE)"}},"required":["url","method"]},"output_arg":{"json":""},"activated":false,"embedding":[0.42238626,0.1940684,0.1621591,-0.58199036,-0.056759518,0.25007504,-0.60028946,-0.22949949,0.1703219,0.06128206,-0.56241095,0.4790186,-0.25989002,0.42603824,0.1902165,-0.17220789,-0.068291724,-1.1015218,-1.6683614,0.25384632,0.12439205,0.88970435,0.49251196,0.13752422,-0.25469685,0.1400167,0.18676531,-0.022115856,-1.2898831,-2.252991,0.72275364,0.657342,-0.36058977,0.06260331,-0.2571718,-0.4170899,0.14978376,0.2373689,0.13766462,0.29832494,-0.45925286,0.50791013,-0.16093348,-0.13356501,0.03100721,-0.62542516,0.015000072,0.06870633,0.36165786,0.13837364,-0.06415968,-0.35845768,0.06292459,0.4656182,-0.5548089,-0.18171258,-0.50970346,0.02778193,-0.14249653,0.4044462,0.4496968,0.36910862,-3.8343732,-0.24076322,-0.060403027,-0.18447289,-0.2833095,-0.117786884,0.13662559,0.4387682,-0.011926986,-0.39637256,-0.49733645,-0.43408102,0.41291457,-0.3880837,0.3391109,0.530102,0.10717869,0.20449798,0.6272005,1.0263896,-0.17127134,-0.19611521,-0.28866637,1.1089785,-0.26755905,-0.44123757,0.6864118,0.13619173,-0.59572196,-0.29972386,0.21019894,-0.19156796,-0.31688356,0.09246864,-0.13356464,0.81329995,0.5952205,3.0931184,0.34662187,-0.12167364,0.04388334,-0.62060595,-0.3783559,-0.37545013,-0.29404652,-0.26011512,0.28208762,-0.12632324,0.27830952,-0.03986113,-0.17067137,0.13511676,0.3633533,-0.19287732,0.16994584,0.68268913,0.027658809,0.7060048,-0.24634747,0.50536996,-1.0397476,-0.0533538,-0.56096095,0.18581901,-0.5297197,0.29925987,0.24289422,-0.7958711,0.44034514,-0.79406875,-0.38315424,0.0683779,0.04515049,0.4697355,-0.12702833,-0.5505659,-0.20466411,-0.37500837,0.48041573,-1.0515554,0.93299156,0.41159192,0.33447322,0.58050865,-0.4608896,0.41875482,-0.13844424,-0.23506808,-0.13501015,0.37552437,-0.14912288,-0.032240294,0.952666,0.23011322,-0.26561543,-0.16960403,-0.8034834,0.19062024,0.100388944,0.09585557,0.537765,0.17361759,0.07095626,-0.20894559,0.98406327,-0.040908776,0.38967523,-0.19650826,0.1346172,-0.019266918,-0.18036346,0.6209239,-0.7548514,-0.49223524,-0.7918689,-0.06306916,-0.1422622,-0.33674175,0.29811278,1.2049588,-0.38047493,-0.40720734,0.02835843,0.49356484,0.169341,-0.09009004,0.7361506,0.68703985,-0.45759755,1.4373178,-0.54387635,-0.66622645,0.5549403,0.047592282,0.074843496,0.35154605,-0.22534396,-0.6004111,-0.51630765,-0.5233179,-0.7420609,-0.04778059,-0.16073227,0.22046703,0.70775187,0.02481758,0.2693597,-0.5127439,-0.065689296,-0.5979744,0.6824775,0.42913607,0.047949106,-0.019154005,0.010441657,-0.5190484,0.05108098,0.0558239,0.246521,0.41467568,-0.8671548,-0.46036005,0.12348008,-0.24901523,-0.20412749,0.31863534,-0.79968286,-0.73942596,0.42086563,1.0827986,0.2553392,1.5684226,0.84394765,-0.17288217,-0.008212604,1.2971505,0.61099756,-0.5182753,-0.1137956,0.19285744,-0.4304893,0.24138467,-0.041171774,-0.16584481,-0.18265793,-0.44444367,0.030413866,1.8830745,0.07388539,0.4637174,0.1691723,0.11814129,-0.46182054,-0.23107347,-2.3127198,-0.2715583,0.05088962,0.5445359,0.21399564,0.039412633,0.39823177,-0.529232,-0.08995435,0.18565862,-0.91069114,-0.37902927,-0.124137476,-0.40821847,-1.1029077,0.80073345,0.027528487,-0.3807156,-0.13991734,0.59127367,0.14108002,0.24113715,-0.8795686,-0.19411103,0.13202555,0.2150714,0.34133044,0.0076741427,-0.15748063,-0.6490387,-0.18409544,0.586783,-0.19003776,-0.11268105,0.13198596,-0.42340448,-0.28518748,0.43408802,1.5161858,0.5471435,0.62249976,0.24957423,0.07677624,0.25215602,-0.5527547,0.14778271,0.11166375,-0.38029012,-0.9771133,-0.87555194,0.2637835,-1.0909687,-0.14693457,0.0932121,0.20991862,1.2631521,-0.055089176,-0.060076296,0.9514703,-0.16368428,-0.35981607,0.56544125,0.016210336,-1.9739183,0.15888977,0.21553972,-0.3458055,-0.4423701,-0.31656513,0.18848798,0.0326237,0.66326123,-0.07320005,1.6787579,0.108202994,-0.4772119,0.10571116,0.19775164,0.30401593,0.6995199,-0.5255359,-0.18053809,-0.932371,-0.30286753,0.29427153,1.3774354,0.17808856,0.6813629,0.2869355,0.27178162,-0.9132093,-0.6854759,0.35610187,-0.29890317,-0.68829453,0.5754748,-0.124413766,-0.24765307,0.43863305,0.8995142,-0.17879249,-0.21736343,-0.24609914,1.9508395,-0.09127415,-0.59921634,-0.1045409,0.6888946,-0.049753495,0.32172966,0.35146764,-0.6146387,-0.10207706,0.3526738,0.57155526,-0.5344271,0.09051781,0.12879401,0.43726373,0.38176322,-0.3644063,0.7287394,0.5069258,0.4774996,0.116011105,0.18849824,-0.8372088,0.024344347],"result":{"type":"object","properties":{"data":{"description":"Response data in JSON format","type":"any"},"status":{"description":"HTTP response status code","type":"number"},"statusText":{"description":"HTTP response status text","type":"string"}},"required":["status","statusText","data"]},"sql_tables":[],"sql_queries":[],"file_inbox":null,"oauth":[{"name":"twitter","authorizationUrl":"https://twitter.com/i/oauth2/authorize","tokenUrl":"https://api.x.com/2/oauth2/token","clientId":"","clientSecret":"","redirectUrl":"https://secrets.shinkai.com/redirect","version":"2.0","responseType":"code","scopes":["tweet.read","tweet.write","users.read","offline.access"],"pkceType":"plain","refreshToken":"true","requestTokenAuthHeader":null,"requestTokenContentType":null}],"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}