{"type":"Deno","content":[{"name":"Ntfy Push Notifications","homepage":null,"author":"@@official.shinkai","version":"1.1.0","mcp_enabled":null,"js_code":"import axios from 'npm:axios@1.7.7';\n\ntype Configurations = {\n  serverUrl?: string;\n  topic: string;\n};\n\ntype Parameters = {\n  message: string;\n  title?: string;\n  priority?: 'min' | 'low' | 'default' | 'high' | 'urgent';\n  tags?: string;\n};\n\ntype Result = {\n  success: boolean;\n  message: string;\n};\n\nexport type Run<C extends Record<string, any>, I extends Record<string, any>, R extends Record<string, any>> = (\n  config: C,\n  inputs: I\n) => Promise<R>;\n\nexport const run: Run<Configurations, Parameters, Result> = async (\n  configurations: Configurations,\n  params: Parameters\n): Promise<Result> => {\n  try {\n    const serverUrl = configurations.serverUrl || 'https://ntfy.sh';\n    const { topic } = configurations; // Accessing topic from configurations\n    const { message, title, priority, tags } = params;\n\n    // Build request headers\n    const headers: Record<string, string> = {\n      'Content-Type': 'text/plain',\n    };\n\n    if (title) {\n      headers['Title'] = title;\n    }\n\n    if (priority) {\n      headers['Priority'] = priority;\n    }\n\n    if (tags) {\n      headers['Tags'] = tags;\n    }\n\n    // Send notification using ntfy's HTTP API\n    const response = await axios.post(\n      `${serverUrl}/${topic}`,\n      message,\n      { headers }\n    );\n\n    if (response.status === 200) {\n      return {\n        success: true,\n        message: 'Notification sent successfully'\n      };\n    } else {\n      return {\n        success: false,\n        message: `Failed to send notification: HTTP ${response.status}`\n      };\n    }\n  } catch (error) {\n    let errorMessage = 'An unknown error occurred';\n    if (error instanceof Error) {\n      errorMessage = error.message;\n    }\n    return {\n      success: false,\n      message: `Error: ${errorMessage}`\n    };\n  }\n};\n","tools":[],"config":[{"BasicConfig":{"key_name":"serverUrl","description":"The server URL to send notifications. Defaults to https://ntfy.sh if not provided.","required":false,"type":null,"key_value":null}},{"BasicConfig":{"key_name":"topic","description":"The topic to send the notification to. You want it to be hard to guess e.g. nico_051490 or whatever you want.","required":true,"type":null,"key_value":null}}],"description":"Sends push notifications to specific groups using ntfy. Supports message priority, tags, and titles. Download the Apps and learn more here: http://nfty.sh","keywords":["notification","ntfy","http api","message sender"],"input_args":{"type":"object","properties":{"priority":{"type":"string","description":"The priority of the notification"},"title":{"type":"string","description":"The title of the notification"},"tags":{"type":"string","description":"Tags associated with the notification"},"message":{"type":"string","description":"The message to be sent"}},"required":["message"]},"output_arg":{"json":""},"activated":false,"embedding":[0.26908812,-0.3550573,-0.4509518,-0.7971142,0.03437287,0.038679816,-0.42715198,0.21161267,0.3599524,-0.2270312,0.15343475,0.6400409,-0.13799228,0.021362018,0.32772392,-0.36643562,0.0834892,-1.4670696,-1.5647168,0.4993258,-0.17740425,1.0034353,0.5591211,0.45378584,0.38370943,-0.48181075,-0.608868,0.6098849,-0.4827842,-1.5914491,0.100232236,0.98112833,-0.5615709,-0.20991072,0.10022846,0.11394178,0.04381259,-0.09591158,-0.77362764,0.06756097,0.13689393,-0.18297704,-0.37808996,0.18337867,-0.21087334,-0.34241122,0.35126793,-0.120211154,0.120479845,0.45532066,-0.06268823,0.38198343,0.13527116,0.46565065,-0.10041119,0.023590878,0.092236444,0.7494318,0.085753545,0.62338346,-0.15811549,0.56639296,-3.098318,0.2711397,0.071334615,-0.09086608,-0.6608441,-0.52357745,0.30654806,-0.17143802,0.45522815,-0.5727147,-0.30825782,0.6556948,-0.41764477,-0.60623884,0.22928554,0.31772566,0.029660583,0.44203296,-0.09714632,0.9050311,0.15279923,-0.33879006,-0.9557227,0.35413188,-0.5896679,-0.46096754,-0.4768389,0.6241993,-0.4825693,0.1431301,0.34833395,0.14387894,-0.63279206,0.24622744,-0.015875494,0.78682446,1.1380148,3.457276,0.6325858,0.5704183,0.030376405,-0.28352532,0.7919874,-0.3054647,-0.49804702,-0.35441905,-0.018007526,-0.2081534,0.10809584,-0.48595372,-0.34587917,-0.39227697,-0.048515562,0.3679339,-0.5487863,0.32996023,-0.0959647,0.751429,-0.065042906,0.010182064,-1.4717803,-0.86764073,-0.17927793,0.10469769,-1.0675323,0.20065138,0.42103365,0.082677975,0.76476645,-0.282161,-0.72647655,-0.36076903,-0.63319707,0.17789695,0.5334082,-0.23336847,-0.078178264,-0.34891295,0.7708717,-1.3684183,1.1994731,-0.012226038,0.12556627,-0.29574192,0.24534985,-0.37311935,-1.3768877,0.31804994,-0.15891375,-0.02589167,0.44602618,0.08904013,0.45500028,-0.36340645,0.20067343,0.5662836,-0.78923523,-0.037827678,-0.13674831,-0.16923864,0.33282197,0.36384308,0.5463719,-0.40607563,0.23640054,-0.47342864,0.370262,0.23697348,0.17746185,0.08516444,0.28806245,0.12372148,-0.25976947,0.33997107,0.02723153,-0.376802,0.5128937,-0.8052881,0.5683678,-0.050136216,-0.7257736,-0.1626966,-0.5002326,0.17606084,0.42465696,-0.1582371,0.632617,0.54673195,-0.81846297,1.3998636,-0.6246189,-0.35389692,0.27538303,-0.45163763,-0.24398227,0.7260663,0.12571661,0.5453517,-0.5298562,-0.9203833,-0.28004137,-0.035721645,-0.9485182,-1.2037388,1.2999102,0.57317287,0.4373241,-0.14759801,0.1568385,-0.18843198,0.3148348,0.09059726,0.17950779,-0.33892965,-0.18660733,0.3256402,0.25907445,0.24823333,0.6265916,0.36572045,-0.9754229,-0.5978106,-0.67809415,-0.23505895,0.020185791,-0.3366087,-0.5470268,-0.4364786,-0.11413772,0.83042675,0.714531,0.9031751,0.88366747,0.045071155,-0.42395908,0.82205856,0.4710373,-0.13171396,0.12593745,-0.0070909634,0.17258905,-0.48013818,0.68932456,-0.29305065,-0.12846863,0.31133562,-0.0747497,1.4124086,0.6540907,0.6601326,0.75750196,-0.3885879,0.38225523,-0.82533455,-1.5597483,0.37126952,-0.22662842,0.7953094,0.49763685,-0.28853515,0.36301485,-0.0033125542,-0.062531285,0.27961838,-0.96630794,-0.07879412,-1.0207771,0.0099544,0.19450246,0.71403617,-0.6742534,-0.03527151,-0.19823797,-0.63521826,0.24091467,0.2825339,-0.35080862,0.1223329,-0.02267351,0.49994054,0.27395645,0.4359067,-0.07963555,-0.90556705,-0.6060661,-0.347367,-0.85032815,0.3032685,-0.50222284,-0.32457757,-0.48215714,0.0771568,2.1283576,0.6496348,-0.08587852,0.07350692,0.4536315,0.27388227,-0.07799888,-0.22101018,-0.72177666,-0.38733828,-1.0791929,-0.41670454,0.2701779,-0.39960074,-0.16093263,0.051036585,0.36173287,0.8587913,0.4577818,-0.54596674,0.7899611,-0.24982712,-0.3179136,0.99490225,-0.13834065,-1.7996535,0.2792122,0.85678893,0.19775766,-0.76604414,-1.0116513,0.51087534,0.32298657,-0.42203268,-0.08012139,1.8589817,0.08380095,-0.25275725,-0.46662068,-0.08043664,0.4080724,-0.26367888,0.8124123,0.40978432,-0.50542665,-0.44183055,0.60699356,1.3024049,-0.06786581,0.32672387,-0.4813918,0.061768733,-0.28458643,-0.8685342,0.8372283,0.41353494,-0.18287408,0.46275526,-0.06656847,-0.36543685,0.48110297,1.0836087,-0.32351103,0.10045045,-0.218929,1.4942461,0.39892986,0.5977932,-0.47075766,0.21019407,0.09591805,-0.7203508,0.415889,-0.32573643,-0.5606133,0.47846377,-0.079861864,-0.036825184,0.49620575,-0.19115883,0.43875992,0.011747196,-0.20687883,0.40060833,0.47990865,0.78089595,0.0015884191,0.0970837,-1.2334297,0.13707182],"result":{"type":"object","properties":{"message":{"description":"Response message indicating the result of the operation","type":"string"},"success":{"description":"Indicates if the notification was sent successfully","type":"boolean"}},"required":[]},"sql_tables":[],"sql_queries":[],"file_inbox":null,"oauth":[],"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}