{"type":"Deno","content":[{"name":"Linear Fetch Issues By User","tool_router_key":"local:::__official_shinkai:::linear_fetch_issues_by_user","homepage":null,"author":"@@official.shinkai","version":"1.0.0","mcp_enabled":null,"js_code":"import { LinearClient } from \"npm:@linear/sdk\";\n\ntype CONFIG = {\n    LINEAR_API_KEY: string;\n};\n\ntype INPUTS = {\n    userId?: string;\n    includeArchived?: boolean;\n    limit?: number;\n};\n\ntype OUTPUT = {\n    issues: Array<{\n        id: string;\n        identifier: string;\n        title: string;\n        description?: string;\n        priority?: number;\n        stateName: string;\n        url: string;\n    }>;\n    lastSyncId: number;\n    success: boolean;\n};\n\nexport async function run(config: CONFIG, inputs: INPUTS): Promise<OUTPUT> {\n    // Initialize Linear client with API key\n    const linearClient = new LinearClient({\n        apiKey: config.LINEAR_API_KEY\n    });\n\n    try {\n        // Get the user or viewer\n        const user = inputs.userId && typeof inputs.userId === 'string' ?\n            await linearClient.user(inputs.userId) :\n            await linearClient.viewer;\n\n        // Get assigned issues\n        const result = await user.assignedIssues({\n            first: inputs.limit || 50,\n            includeArchived: inputs.includeArchived\n        });\n\n        if (!result?.nodes) {\n            return {\n                issues: [],\n                lastSyncId: Date.now(),\n                success: true\n            };\n        }\n\n        // Format the issues\n        const formattedIssues = await Promise.all(\n            result.nodes.map(async (issue) => {\n                const state = await issue.state;\n                return {\n                    id: issue.id,\n                    identifier: issue.identifier,\n                    title: issue.title,\n                    description: issue.description,\n                    priority: issue.priority,\n                    stateName: state?.name || 'Unknown',\n                    url: issue.url\n                };\n            })\n        );\n\n        return {\n            issues: formattedIssues,\n            lastSyncId: Date.now(),\n            success: true\n        };\n    } catch (error) {\n        console.error(`Error in getUserIssues: ${error}`);\n        throw error;\n    }\n}","tools":[],"config":[{"BasicConfig":{"key_name":"LINEAR_API_KEY","description":"API key for Linear authentication","required":true,"type":null,"key_value":null}}],"description":"Fetches issues assigned to a user from Linear using an API key.","keywords":["linear","API","issues","user","fetcher"],"input_args":{"type":"object","properties":{"limit":{"type":"number","description":"Limit the number of issues retrieved"},"includeArchived":{"type":"boolean","description":"Flag to include archived issues"},"userId":{"type":"string","description":"The ID of the user for whom to fetch assigned issues"}},"required":[]},"output_arg":{"json":""},"activated":false,"embedding":[-0.32304087,-0.06732914,-0.13302371,0.27684635,-0.50744265,-0.23776677,-0.46810055,-0.32339132,-0.1784235,0.1273932,-0.07440317,0.15348294,0.0035364553,0.39389956,0.2089489,-0.17019464,0.5565626,-0.7748811,-1.3911684,-0.09551834,0.813412,0.5618398,0.016112141,0.00016688555,-0.62627053,-0.100725055,0.05297954,-0.75881547,-1.6603068,-2.36335,0.58392847,0.377293,0.2915379,-0.41395056,-0.026387222,-0.6222464,-0.10810517,-0.04002942,-0.47200626,-0.0877088,-0.20732778,-0.21806028,-0.22141492,0.30274823,-0.1367749,0.14029545,-0.09721711,-0.3670215,0.2852758,0.513423,-0.10379484,0.46128568,-0.07934408,0.17715283,-0.58426595,-0.12085266,-0.16191633,-0.070862934,-0.46211016,-0.03552293,0.370501,0.06456268,-3.710178,-0.029627195,0.13219368,0.2920525,-0.22557376,0.05620405,-0.087536864,-0.64805555,-0.17647699,-0.1026233,0.12268975,1.0384951,0.35809422,-0.46523765,-0.11784172,-0.033726938,0.34041172,-0.13328435,0.3702097,1.0421365,-0.22338535,0.20416377,-0.10134384,1.1394501,-0.348004,0.023479044,-0.09876202,-0.017609416,0.30409533,0.7581324,0.2529544,-0.18944755,-0.34696737,-0.026409887,0.0014789011,0.3887346,0.4590797,3.4314723,0.24428838,0.42219153,0.13302775,-0.36281636,0.15768224,-0.53353626,-0.26390362,-0.60808223,-0.13766979,0.060756758,0.052636225,-0.25366223,0.010548487,0.74384034,0.25462905,-0.54434896,-0.07407512,0.33726653,0.52933145,0.10830293,-0.3231882,-0.275401,-0.43119106,-0.45340994,-0.41417518,-0.17739609,0.06589173,0.34466863,0.14963783,-0.33274442,0.040565558,-0.7092268,-0.5898148,0.01993904,-0.06776604,0.2489729,0.1189802,-0.69670784,-0.084014215,-0.82730967,0.20639417,-1.5434688,1.1616167,0.13823357,0.014431559,0.28257656,0.21049058,0.6460146,-0.27541867,0.4168647,0.11866656,0.49802756,-0.5781011,-0.6930844,0.7695768,-0.23752473,-0.24251138,-0.42429125,-1.0741457,0.5788334,-0.47939777,0.042939108,0.416674,0.84246755,0.4990262,0.13768494,0.15882131,0.22164309,0.5147401,-0.156487,0.2577328,0.0028665066,-0.30356628,0.7466151,-0.08008538,0.3087862,0.1519009,-0.082132556,0.50630915,-0.25815043,0.36819366,0.9903204,0.2687781,-0.43658167,-0.090394914,0.3014243,0.45719948,-0.12858623,0.31557038,0.58974093,-0.870351,1.2346054,-0.7988985,-0.9817319,0.4013183,-0.59219813,-0.23139735,0.17395431,0.086487725,-0.32753584,-0.966299,-0.7738648,-0.45423862,-0.07469207,-0.5092984,0.09701839,0.34458447,-0.29455894,0.43215793,-0.2088095,0.055485286,-0.06778163,0.18268155,-0.16766122,0.54851294,0.03698695,-0.06728122,-0.17667162,-0.18068042,0.2067604,0.5372569,0.3498159,-0.3320216,-0.5492245,-0.5008153,-0.13903052,-0.61127514,-0.2017124,-0.28475893,-0.45477167,1.0285889,0.75668097,0.7499763,1.1803696,0.89010686,0.12175067,-0.39881212,0.74577606,0.29413065,-0.3265779,0.36967224,0.097902715,-0.39275533,-0.2623474,0.023727443,0.033936426,-0.13600731,-0.63326883,-0.039894298,1.8082428,1.534391,0.34616008,-0.407066,0.46301097,0.28921705,0.07701724,-1.1992154,-0.21377745,-0.3817505,0.7622441,-0.65144104,-0.4926282,0.30646536,0.6692378,0.2179028,0.3622126,0.102968685,0.046873197,-0.006547712,-0.3408708,-0.45523763,0.5424561,-0.47813565,0.09536179,0.048918232,0.4115026,0.042036057,-0.11496005,-0.72656363,-0.20673934,0.50460666,0.11676742,0.36147022,-0.13746609,-0.67049444,-0.34877595,-0.4326447,0.2781649,-0.14987943,0.5042485,0.29066047,-0.71632224,-0.5579257,0.17663448,1.1855986,0.29967058,0.49445084,0.4206702,0.18298678,0.24713747,-0.5710369,-0.2996508,0.29963,0.104249984,-1.062573,-0.16503985,0.18428606,-0.07005784,0.15529457,0.19682555,-0.31928012,0.24189764,0.117305815,-0.13246197,0.31582692,-0.5899048,0.14730138,0.43519297,0.18379329,-2.2095745,0.0017188434,-0.37286112,-0.3018448,-0.5630216,-0.9684518,0.2764722,-0.40006575,0.26124042,-0.42648774,1.3964227,0.7014392,-0.11875426,-0.32730058,0.7822436,0.66271746,0.20932196,-0.5390865,0.334974,-0.10486277,-0.4398719,0.18404002,1.7574685,0.6989019,-0.10066752,-0.062137865,-0.000037781894,-0.5956241,-1.7846581,0.7700777,-0.7730963,-0.08805434,0.9531486,0.30488384,-0.3569315,1.2086977,0.5310733,-0.3741125,0.037466336,-0.16041678,1.4544227,-0.09489948,-0.028532369,-0.05633602,0.4545209,-0.028470067,0.50439376,0.015806343,-0.4210889,0.45552695,0.29796985,-0.1723488,-0.102233715,0.46986791,0.29827517,0.26213256,0.8362093,-0.020492718,0.37154827,0.8340029,0.1659577,-0.0071606413,-0.043442,-0.39042085,0.31147265],"result":{"type":"object","properties":{"issues":{"description":"List of issues assigned to the user","items":{"properties":{"description":{"description":"Description of the issue","type":"string"},"id":{"description":"Unique identifier for the issue","type":"string"},"identifier":{"description":"Issue identifier","type":"string"},"priority":{"description":"Priority level of the issue","type":"number"},"stateName":{"description":"Current state of the issue","type":"string"},"title":{"description":"Title of the issue","type":"string"},"url":{"description":"URL to the issue in Linear","type":"string"}},"required":["id","identifier","title","stateName","url"],"type":"object"},"type":"array"},"lastSyncId":{"description":"Timestamp of the last sync","type":"number"},"success":{"description":"Indicates if the fetching was successful","type":"boolean"}},"required":["issues","lastSyncId","success"]},"sql_tables":null,"sql_queries":null,"file_inbox":null,"oauth":[],"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":"linear_app"},false]}