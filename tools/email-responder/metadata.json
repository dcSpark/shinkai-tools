{
  "id": "email-agent",
  "name": "Email Agent",
  "description": "Automatically generates responses to emails based on a given context and memory, and logs answered emails in a database.",
  "author": "Shinkai",
  "version": "1.0.0",
  "keywords": [
    "email",
    "responder",
    "database",
    "shinkai"
  ],
  "configurations": {
    "type": "object",
    "properties": {
      "response_context": {
        "type": "string",
        "description": "The context to guide the email responses"
      }
    },
    "required": [
      "response_context"
    ]
  },
  "parameters": {
    "type": "object",
    "properties": {
      "from_date": {
        "type": "string",
        "description": "The starting date for fetching emails in DD-Mon-YYYY format"
      },
      "to_date": {
        "type": "string",
        "description": "The ending date for fetching emails in DD-Mon-YYYY format"
      }
    },
    "required": []
  },
  "result": {
    "type": "object",
    "properties": {
      "table_created": {
        "type": "boolean",
        "description": "Indicates if the email logging table was created"
      },
      "answered_emails": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "email_unique_id": {
              "type": "string"
            },
            "subject": {
              "type": "string"
            },
            "email": {
              "type": "string"
            },
            "received_date": {
              "type": "string"
            }
          }
        },
        "description": "The list of answered emails"
      },
      "skipped": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "List of email IDs that were skipped"
      },
      "login_status": {
        "type": "string",
        "description": "The status of the email login"
      }
    },
    "required": [
      "table_created",
      "answered_emails"
    ]
  },
  "sqlTables": [
    {
      "name": "answered_emails",
      "definition": "CREATE TABLE IF NOT EXISTS answered_emails (email_unique_id TEXT UNIQUE PRIMARY KEY, subject TEXT NOT NULL, email TEXT NOT NULL, response TEXT NOT NULL, received_date DATETIME NOT NULL, response_date DATETIME DEFAULT CURRENT_TIMESTAMP)"
    }
  ],
  "sqlQueries": [
    {
      "name": "Get answered emails",
      "query": "SELECT * FROM answered_emails"
    },
    {
      "name": "Get email by unique ID",
      "query": "SELECT * FROM answered_emails WHERE email_unique_id = :emailUniqueId"
    },
    {
      "name": "Insert new email",
      "query": "INSERT INTO answered_emails (email_unique_id, subject, email, response, received_date) VALUES (:emailUniqueId, :subject, :email, :response, :receivedDate)"
    }
  ],
  "tools": [
    "local:::email_imap_fetcher:::email_fetcher",
    "local:::email_sender_shinkai:::send_email",
    "local:::rust_toolkit:::shinkai_sqlite_query_executor",
    "local:::rust_toolkit:::shinkai_llm_prompt_processor",
    "local:::memory_management:::memory_management"
  ],
  "oauth": []
}