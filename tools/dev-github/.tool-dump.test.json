{"type":"Deno","content":[{"name":"GitHub API Request","homepage":null,"author":"@@official.shinkai","version":"1.0.0","js_code":"import { getAccessToken } from './shinkai-local-support.ts';\n\ntype CONFIG = {};\ntype INPUTS = { url: string, method: string, body?: string, query_params?: string, headers?: Record<string, string> };\ntype OUTPUT = { status: number, statusText: string, data: any };\n\nexport async function run(config: CONFIG, inputs: INPUTS): Promise<OUTPUT> {\n    const accessToken = await getAccessToken('Gmail');\n    \n    const url = new URL(inputs.url);\n    if (inputs.query_params) {\n        url.search += inputs.query_params;\n    }\n\n    const headers = new Headers({\n        'Authorization': `Bearer ${accessToken}`,\n        'Accept': 'application/json',\n        ...inputs.headers\n    });\n\n    const options: RequestInit = {\n        method: inputs.method,\n        headers: headers\n    };\n\n    if (inputs.body) {\n        headers.set('Content-Type', 'application/json');\n        options.body = inputs.body;\n    }\n\n    const response = await fetch(url, options);\n    let data;\n    try {\n        data = await response.json();\n    } catch (error) {\n        console.log(error);\n        data = await response.text();\n    }\n\n    return {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n    };\n}\n","tools":[],"config":[],"description":"Tool to make requests to the GitHub API using OAuth for authentication.","keywords":["github","api","request","oauth"],"input_args":{"type":"object","properties":{"query_params":{"type":"string","description":"Query parameters to append to the URL"},"method":{"type":"string","description":"HTTP method (GET, POST, PUT, DELETE)"},"url":{"type":"string","description":"The API endpoint URL"},"body":{"type":"string","description":"Request body (if applicable)"},"headers":{"type":"string","description":"Additional headers as newline-separated key:value pairs"}},"required":["url","method"]},"output_arg":{"json":""},"activated":false,"embedding":[0.104474366,0.1789853,-0.14589505,-0.28470948,-0.2992694,0.2738406,-0.62131745,-0.17313515,0.12262191,-0.16918209,-0.52338684,0.28256464,0.31931195,0.24013732,0.20037325,-0.32983777,-0.68985265,-0.6896951,-1.0748669,0.10079691,-0.070859656,0.34019786,0.024408706,0.2652145,-0.6762636,0.20523047,0.11294018,0.017352968,-1.6043117,-2.477057,0.3952297,0.9387908,0.07872473,-0.020477198,-0.13088217,-0.45235735,-0.19094342,0.27972803,0.3643741,-0.22845596,-0.4957738,0.34136733,-0.038314216,-0.3615659,0.08899718,-0.15010872,0.47141683,-0.40441635,0.5726872,0.07066386,-0.14549449,-0.4109354,0.06568129,0.38599715,-0.16574901,0.06409683,-0.33546495,0.26378053,-0.15197404,0.5013747,0.6103886,0.09839189,-3.8159733,-0.5515001,-0.11275537,-0.08720782,-0.59801245,-0.47457418,0.577513,-0.07997577,0.072082415,-0.09246223,-0.5585195,-0.4307866,0.15202272,-0.42808196,0.050273184,0.914256,0.04101233,0.403556,0.13283864,1.1257274,0.26215333,-0.25309268,-0.24078855,1.0094249,-0.3452593,-0.30283093,0.5709753,0.1879135,-0.46356404,-0.44276556,-0.19221303,-0.079529,0.1874036,-0.7641354,-0.1259934,0.94297355,0.64413655,2.7520914,0.5783922,0.12305328,0.19732133,-0.9910205,0.68444693,-0.29617676,0.08045289,-0.19075161,0.08375329,0.5019671,0.5360795,0.21138458,0.33683997,0.5623444,0.19754444,-0.35954422,-0.124489896,0.16818745,0.060731865,1.1784486,-0.17955197,-0.18868972,-0.9927129,-0.5095346,-0.048720334,0.2659517,-0.38077143,0.28348428,0.5068915,-0.29010117,0.53250575,-0.3656075,-0.7768232,-0.26261836,0.38620946,0.25766277,0.3106315,-0.45008847,-0.2580926,-0.5103302,0.19535372,-1.0063221,0.8089453,0.14450127,0.040210523,0.2078816,-0.585227,0.22572929,-0.38254684,-0.2753624,0.2896491,0.12778006,0.28048435,0.23705527,0.5685739,-0.25212172,-0.0946754,-0.19256091,-0.43366957,0.2961711,0.22517721,0.2071858,0.36009455,-0.17858212,0.17363772,-0.7698297,0.9534353,-0.060584344,0.17656863,-0.32736918,-0.011629432,-0.07462042,-0.2501405,0.1347404,-0.93616474,-0.1311738,0.2181553,-0.018581688,0.09122595,-0.24847314,0.14817327,1.0021508,-0.148942,-0.5696428,-0.21956074,0.68159723,0.12888798,0.14872018,1.2800324,0.50184774,-1.0899026,1.5600759,-0.628405,-0.46108148,0.442696,0.29463315,-0.013340976,0.83069605,-0.32020548,-0.6289246,-0.6515578,-0.18541574,-0.55513215,0.3182062,-0.31705445,-0.17535044,0.6248276,0.47196227,-0.09436685,-0.8068861,0.15342404,-0.26166436,0.4500059,0.08331638,0.3571517,-0.40619993,-0.014766999,-0.49233127,-0.32177964,0.24956124,0.23845792,0.5499191,-0.7885069,-0.41700822,-0.10498874,0.18425268,0.023265429,0.5456197,-0.579921,-0.38541192,0.7934298,1.2266899,0.1836024,1.1341076,0.8629058,0.4765041,-0.4012335,0.88555574,0.53113246,-0.73528117,-0.46436363,-0.6189712,-0.70507836,0.27479845,0.23205143,-0.34324887,-0.14557332,-0.75094086,0.20577016,2.168607,0.49681535,0.04079765,0.44210678,-0.11567742,-0.16750011,-0.3663806,-2.4422135,-0.23583625,-0.09196021,0.41278622,0.47665697,0.26028523,0.22534794,-0.0022263685,0.6222882,0.07071651,-0.5848335,-0.56326985,-0.3121813,-0.3057935,-0.22294496,1.2016302,0.18671228,-0.12975779,-0.07047638,0.61052084,0.04736154,0.1986008,-0.815316,-1.0089341,0.43669024,0.06510777,0.2766951,-0.28900397,-0.26363167,-0.5020753,-0.0871274,0.79399633,-0.56126887,0.34541163,-0.02763072,-0.5861142,-0.637671,0.12914841,1.582386,0.79495376,0.4081334,0.42482838,0.21837367,0.13737145,-0.2620017,0.47337875,0.07989585,-0.18035658,-1.0560601,-0.5221691,0.6420079,-1.0617336,-0.20038256,0.04982185,0.23876807,0.9147562,-0.26022595,0.024197228,0.69492465,-0.10507881,-0.118440345,0.33405674,0.32215664,-1.9924461,0.37896654,-0.16025874,-0.30566368,-0.031753972,-0.38154697,-0.53154755,0.1380538,0.6988164,-0.2786235,1.3915944,0.222251,-0.03802178,-0.21092513,0.35012025,0.32132858,0.1622523,-0.018263308,-0.22973874,-0.31465438,-0.29226214,0.39477617,0.91550046,0.3671716,0.38892803,0.39029104,0.7700355,-0.7754761,-0.64264375,-0.01619935,-0.16990212,-0.52503633,1.2261941,0.04242625,-0.7515844,0.5569037,0.6653121,-0.06753075,-0.24911672,-0.5853141,1.5825881,-0.06472213,-0.31134737,0.14875367,-0.2769496,-0.70260096,0.46207398,0.3734747,0.039091498,0.12428123,0.02976225,0.32213795,-0.69536984,0.37965664,-0.06073783,0.38426822,0.38321775,-0.54986346,0.41593558,1.3625715,0.10081379,-0.30645773,0.15807495,-1.1208398,0.109239414],"result":{"type":"object","properties":{"data":{"description":"Response data in JSON format","type":"any"},"status":{"description":"HTTP response status code","type":"number"},"statusText":{"description":"HTTP response status text","type":"string"}},"required":["status","statusText","data"]},"sql_tables":[],"sql_queries":[],"file_inbox":null,"oauth":[{"name":"Github","authorizationUrl":"https://github.com/login/oauth/authorize","tokenUrl":"https://github.com/login/oauth/access_token","clientId":"","clientSecret":"","redirectUrl":"https://secrets.shinkai.com/redirect","version":"2.0","responseType":"code","scopes":["repo","user"],"pkceType":"","refreshToken":"","requestTokenAuthHeader":null,"requestTokenContentType":null}],"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}