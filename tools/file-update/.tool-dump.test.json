{"type":"Deno","content":[{"name":"Update File with Prompt","tool_router_key":"local:::__official_shinkai:::update_file_with_prompt","homepage":null,"author":"@@official.shinkai","version":"1.0.0","mcp_enabled":null,"js_code":"import { shinkaiLlmPromptProcessor } from './shinkai-local-tools.ts';\n\ntype CONFIG = {};\ntype INPUTS = { path: string, prompt: string };\ntype OUTPUT = { new_file_content: string, message: string };\n\nexport async function run(config: CONFIG, inputs: INPUTS): Promise<OUTPUT> {\n    const file_content = await Deno.readTextFile(inputs.path);\n    const prompt = `\n<${inputs.path}>\n${file_content}\n</${inputs.path}>\n\n<rules>\n * Only respond with the new file content, from the start of the file to the end.\n * Do not include any other text or comments.\n * Apply the following instructions in the tag to \"${inputs.path}\"\n</rules>\n\n<instructions>\n    ${inputs.prompt}\n </instructions>\n`;\n    const update = await shinkaiLlmPromptProcessor({ prompt });\n    await Deno.writeTextFile(inputs.path, update.message);\n\n    return { \n        new_file_content: update.message, \n        message: \"File updated\"\n    };               \n}","tools":["local:::__official_shinkai:::shinkai_llm_prompt_processor"],"config":[],"description":"Applies a prompt to the file contents.","keywords":["file","update","prompt","text"],"input_args":{"type":"object","properties":{"path":{"type":"string","description":"The path of the file to update."},"prompt":{"type":"string","description":"The prompt to apply to the file contents."}},"required":["path","prompt"]},"output_arg":{"json":""},"activated":false,"embedding":[-0.03997557,0.14782561,-0.37151092,-0.25366753,0.42043242,0.19322872,-0.73065144,0.79813546,0.53918195,-0.28949332,-0.16259494,0.7089906,-0.3252213,-0.1847474,-0.09628403,-0.26495832,-0.6098098,-0.8192562,-0.88258654,-0.01940956,-0.100852415,0.5534891,0.37706298,0.39877033,0.53192085,0.6503243,0.09617901,0.21151783,-1.5359838,-2.6436667,0.19664538,0.4442237,0.22997598,0.07045448,0.910038,-0.4808741,-0.036438756,0.008039013,-0.46550432,-0.39071506,0.6104524,0.19441436,0.03878408,-0.39658827,-0.10740992,-0.14786011,0.4095212,-0.5337151,1.2655691,0.29672074,-0.9812605,-0.4301235,-0.54233795,-0.007823691,0.09372605,-0.009605665,-0.022474343,-0.16942148,-0.43874103,0.21296206,-0.59025997,0.4496623,-3.9330485,0.0033219717,0.23043147,0.4167932,-0.40775162,0.24061798,0.29592273,-0.55454606,-0.5994963,0.31348902,-0.42098856,0.5288818,0.15841204,-1.4716026,-0.09710042,-0.021498188,0.39800102,-0.59000826,-0.0676378,0.75841093,-0.30370516,-0.44336408,-0.8211287,0.62328106,-0.19126883,0.17378563,0.24690303,0.16969535,0.27652594,0.36836508,0.6832591,0.034803033,0.20055884,-0.08027434,0.2881473,-0.08377892,0.15306678,2.8059442,0.4674968,0.47078452,0.5995302,-0.14854658,0.38263795,-0.14485711,-0.3081264,-0.4912812,-0.2616731,-0.5537109,0.29877615,-0.41975254,-0.3312352,-0.08664401,0.64576995,-0.3821385,-1.1662424,0.1427207,-0.089030795,1.1903782,-0.26571864,-0.2991435,-0.8791591,-0.052110977,-0.24995528,0.25246865,0.39302173,0.1121696,0.2035981,-0.12951136,0.5340404,-0.047655538,-0.5621939,-0.7675088,0.35611698,0.64708877,0.6655177,-0.33045784,0.49076867,-1.0010803,0.07134029,-0.8363564,0.8355734,-0.24596795,0.30489567,-0.21836168,-0.7152378,-0.036860265,-0.4239161,-0.83320665,-0.3054933,0.318878,0.4409745,-0.033103853,0.44196928,0.1350057,-0.017818566,0.43034956,-0.40263873,0.4650483,0.23426796,0.021607155,0.24932663,0.6594493,0.53295654,-0.5220416,0.062585816,0.011273012,-0.42402047,-0.003066456,0.021831892,-0.69851494,-0.040021136,0.14481279,-0.47893566,0.38164523,-0.09266214,0.12219596,0.50907254,-0.4333193,0.052639574,0.484078,-1.3968846,-0.4554458,-0.10362634,0.32398263,0.06781652,0.184753,0.58500195,1.049621,-1.0222707,1.8359826,-1.4867269,-0.44455826,-0.25867015,0.46077704,-0.052913878,0.39523226,-0.42421052,0.18981878,0.28016576,0.05860361,0.47748026,-0.0385444,-0.32236663,-0.7040341,0.5207605,0.8884896,-0.40068972,-0.3353503,-0.03359663,-0.07278933,0.7597051,0.27811837,1.1156071,0.15174422,-0.13301817,0.29061744,-0.16922949,0.87198484,-0.41132718,0.838752,-0.47204286,-0.25545323,-0.5925692,0.21080226,-0.10368657,-0.029169682,-0.23371129,-0.36046672,0.67270404,1.0323554,0.8561018,0.41759092,0.060153436,0.41537014,-0.18914026,0.48198628,0.2074697,-0.42643154,-0.42866737,-0.1382896,0.4164828,-0.26941025,0.2670998,-0.804765,-0.044948705,0.038466692,-0.15916634,1.184602,0.6012494,0.08880498,0.55928457,-0.28416792,0.06715192,-0.003241606,-1.5875305,-0.48769996,-0.26008564,0.09622892,0.21990049,-0.31774792,0.28019327,0.39338714,0.09214864,-0.606017,-0.4500521,-0.04204331,0.34830984,0.3225532,0.015679887,0.20081745,0.04759427,-0.26588267,-0.23861094,-0.064371705,0.51593274,0.54060894,-0.31120047,-0.45691547,-0.4144335,-0.2663698,-0.4997318,-0.44068187,-0.1956371,-0.51092684,-0.27372354,-0.1966494,0.008728124,0.8079884,-0.19195113,-0.4996882,-0.6425109,0.50066084,2.3798084,0.045241784,0.62126094,0.85934305,-0.30851644,0.05710657,0.4261733,0.10312308,-0.34688795,0.54531556,-0.5494522,-0.029281907,-0.27344567,-0.105949596,0.11880362,0.64658386,0.1452541,-0.08849047,-0.5285075,-0.2953687,0.56333524,-0.47429615,0.49657816,0.50228477,-0.03598378,-1.8983086,-0.7474439,-0.14795741,-0.2358348,0.031401813,-0.28201327,0.525863,0.44275677,0.85937905,0.0018259138,1.2411829,0.61675054,-0.5043877,-0.27919513,-0.093164235,0.6016743,-0.17415081,-0.021160806,-0.063749865,0.08248261,-0.19672903,1.0259583,1.8778877,0.28738025,0.5456049,0.2228776,0.5089868,-0.2151738,-1.5025327,-0.19974461,0.17886735,-0.73780763,0.6098081,-0.11626679,-0.40419582,-0.15015872,0.5291189,0.43840516,-0.14277391,-0.5761157,1.7516056,-0.037893955,-0.516376,-0.2903251,0.28502065,0.40120998,-0.27608877,0.3002462,-0.38235146,-0.9122533,-0.2843752,0.08477558,-0.14659022,-0.17695722,0.40931982,0.39125463,0.8326885,0.116398245,0.49208117,0.350219,0.31268322,0.20299765,0.52842444,-0.66709584,-0.078701705],"result":{"type":"object","properties":{"message":{"description":"The message returned from the tool.","type":"string"},"new_file_content":{"description":"The path of the file that was updated.","type":"string"}},"required":["message"]},"sql_tables":[],"sql_queries":[],"file_inbox":null,"oauth":null,"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}