{"type":"Deno","content":[{"name":"Google Drive Developer API","homepage":null,"author":"@@official.shinkai","version":"1.0.0","js_code":"import { getAccessToken } from './shinkai-local-support.ts';\n\ntype CONFIG = {};\ntype INPUTS = { url: string, method: string, body?: string, query_params?: string, headers?: Record<string, string> };\ntype OUTPUT = { status: number, statusText: string, data: any };\n\nexport async function run(config: CONFIG, inputs: INPUTS): Promise<OUTPUT> {\n    const accessToken = await getAccessToken('GoogleDrive');\n    \n    const url = new URL(inputs.url);\n    if (inputs.query_params) {\n        url.search += inputs.query_params;\n    }\n\n    const headers = new Headers({\n        'Authorization': `Bearer ${accessToken}`,\n        'Accept': 'application/json',\n        ...inputs.headers\n    });\n\n    const options: RequestInit = {\n        method: inputs.method,\n        headers: headers\n    };\n\n    if (inputs.body) {\n        headers.set('Content-Type', 'application/json');\n        options.body = inputs.body;\n    }\n\n    const response = await fetch(url, options);\n    let data;\n    try {\n        data = await response.json();\n    } catch (error) {\n        console.log(error);\n        data = await response.text();\n    }\n\n    return {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n    };\n}\n","tools":[],"config":[],"description":"Tool to make requests to the Google Drive Developer API using OAuth for authentication.","keywords":["google","drive","documents","api","request","oauth"],"input_args":{"type":"object","properties":{"query_params":{"type":"string","description":"Query parameters to append to the URL"},"method":{"type":"string","description":"HTTP method (GET, POST, PUT, DELETE)"},"body":{"type":"string","description":"Request body (if applicable)"},"url":{"type":"string","description":"The API endpoint URL"},"headers":{"type":"string","description":"Additional headers as newline-separated key:value pairs"}},"required":["url","method"]},"output_arg":{"json":""},"activated":false,"embedding":[0.41145733,-0.250866,0.59526724,-0.27781257,0.05458248,0.09074263,-0.41514787,-0.26637468,-0.13885616,-0.15084887,-0.004033529,0.94764805,-0.5702948,0.38040015,-0.37120903,-0.6451298,-0.10119988,-0.53708416,-1.3778415,-0.054818824,0.18768674,0.21859448,0.66551435,-0.22156303,-0.35831693,-0.09294809,0.10577531,0.1485924,-1.1696893,-1.9109026,1.000666,0.19311753,0.36955768,0.07462177,-0.3710366,-0.8100492,0.12396994,0.25717536,0.18401153,-0.33009452,-0.46609312,0.27586377,-0.012913942,0.14534208,0.19667034,-0.38056493,0.5616491,0.0688269,0.8124579,0.20711783,-0.48318312,-0.2460672,0.00035945326,0.42223278,0.04326398,0.282555,-0.35048923,0.4415855,0.052057683,0.26732802,0.63314563,0.5401859,-3.6545148,-0.35540342,0.42099944,0.39492217,0.09182762,-1.0626295,0.07696069,0.24656948,-0.0023537502,-0.37073302,-0.65972966,0.13723165,0.25669697,-0.5926157,-0.25278324,1.1650219,-0.07284887,-0.37909958,0.18459342,1.1234386,-0.56382596,0.16061977,-1.0461287,0.64737713,-0.21023813,-0.09257316,0.6056616,-0.18644187,-0.84299946,0.07215921,-0.3906373,-0.44177213,-0.4444238,-0.71797246,0.16116287,0.7185984,1.2330002,2.932479,0.23358479,-0.08303289,-0.4081625,-1.2382203,0.3332489,0.22859994,-0.21988802,-0.3193382,0.2978271,0.27701592,0.54844993,0.27689195,-0.14368877,0.18079242,0.7671432,0.016720125,0.40029705,0.41838595,0.071843795,0.5660254,-0.16053875,0.4228653,-0.67853737,-0.16728392,-0.3241891,0.10075842,-0.21943028,0.5216331,0.54845756,-0.47733057,0.5042299,-0.6466475,-0.67629933,0.028779862,0.24870034,0.53166234,0.038362436,-0.66252047,0.12320829,-0.021609966,0.35983422,-1.2356588,1.1388179,0.16718526,0.55352676,0.07552082,-0.48361602,0.38734508,-0.21460164,-0.87449485,0.013489772,0.29757768,0.34022382,-0.779148,0.7303439,0.14683942,-0.06368165,-0.35956922,-1.2248381,0.2815008,-0.41486675,0.15906446,0.4372464,0.71592546,0.11133315,-0.8328941,0.7733295,0.22248581,0.09591521,-0.287425,0.24939963,-0.13210931,-0.5602544,0.51976824,-0.6675631,-0.3826545,-0.2786663,-0.072973065,0.15781584,-0.469532,0.30635232,0.8506858,-0.3078965,-0.478883,-0.34016448,0.7530519,0.16835898,-0.0051807165,0.30717796,0.5551956,-0.755718,1.3955374,-1.1298562,-0.9998502,0.28410235,0.28118134,-0.45610374,0.3388574,-0.16916463,-0.29349464,-0.40443555,-0.9970581,-0.5992034,0.18372892,0.09834028,0.10027993,0.37831566,0.23568384,-0.3325972,-0.55080634,-0.2462277,-0.4415271,0.409494,0.26462695,-0.07506922,-0.19820836,-0.24607196,-0.17155692,-0.18503737,0.41313228,0.13631843,0.4210624,-1.241514,-0.4509837,-0.22625674,0.20716232,0.24029514,-0.07536511,-0.54090285,-0.71522135,0.9165938,1.5631357,0.18926843,0.9051148,0.55434924,0.2342948,0.05845177,0.73322165,-0.15405443,-0.7298137,0.20523569,-0.042693846,-0.62588,-0.048849642,-0.09497428,-0.1243686,0.60039335,0.17749208,-0.21050242,1.7940316,0.30283234,0.91297925,-0.28683567,-0.03554717,-0.051626973,-0.07897166,-2.0545683,-0.6198246,-0.114164755,0.12660778,0.5312415,0.23804417,0.05120703,0.1953154,0.4080417,-0.0513161,-0.38189834,-0.79580665,-0.49969387,-0.2812438,-0.20058791,0.66534775,0.53980255,0.2826978,-0.0018138457,0.63834596,-0.10922501,0.4203884,-0.65115994,-0.5400572,0.7495745,0.0028807241,0.72274864,-0.12996538,-0.17973053,-0.6399719,0.032929238,1.1446716,-0.8674432,0.30658057,-0.5044213,-0.82295686,-0.30519554,0.52940416,1.3083184,0.5380153,0.58437055,0.31066903,-0.12559626,-0.37175053,-0.48312223,-0.08982151,0.19548196,-0.38103992,-0.7387473,-0.6775381,0.0455916,-0.61780727,-0.3813777,0.3480535,-0.12183604,1.3370614,0.07587001,-0.08610439,0.2215096,0.1051363,-0.033827323,0.70865726,-0.42926344,-1.8196371,-0.051694345,-0.24367905,-0.40654227,-0.35764438,-1.0206796,-0.35463154,-0.3442675,0.4408235,-0.087246984,1.9195595,0.23091638,-0.47239345,-0.47261918,0.7512542,0.20503537,0.18801895,0.31673014,-0.30217138,-0.41322237,-0.25356904,0.49318933,0.89115447,0.5507481,-0.009909943,0.41700178,0.21945286,-0.6178222,-1.0342348,0.02243758,-0.55996525,-0.51449674,0.28834307,0.0034019165,0.016114386,0.9611391,0.79313934,-0.18861817,0.5601503,-0.12026871,2.120836,-0.07697352,0.16222683,0.23972753,0.4663288,-0.63720423,0.45852023,0.55358297,-0.08186622,0.16561341,-0.110498525,0.29876724,-0.7799801,0.5109985,0.19655009,0.76997197,0.54751366,-0.08030045,0.869542,0.22767106,0.4706434,-0.3653284,0.6774856,-0.41342586,0.44978362],"result":{"type":"object","properties":{"data":{"description":"Response data in JSON format","type":"any"},"status":{"description":"HTTP response status code","type":"number"},"statusText":{"description":"HTTP response status text","type":"string"}},"required":["status","statusText","data"]},"sql_tables":[],"sql_queries":[],"file_inbox":null,"oauth":[{"name":"GoogleDrive","authorizationUrl":"https://accounts.google.com/o/oauth2/v2/auth","tokenUrl":"https://oauth2.googleapis.com/token","clientId":"","clientSecret":"","redirectUrl":"https://secrets.shinkai.com/redirect","version":"2.0","responseType":"code","scopes":["https://www.googleapis.com/auth/documents","https://www.googleapis.com/auth/drive"],"pkceType":"","refreshToken":"","requestTokenAuthHeader":null,"requestTokenContentType":null}],"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}