{"type":"Deno","content":[{"name":"Airtable Developer API","homepage":null,"author":"@@official.shinkai","version":"1.0.0","js_code":"import { getAccessToken } from './shinkai-local-support.ts';\n\ntype CONFIG = {};\ntype INPUTS = { url: string, method: string, body?: string, query_params?: string, headers?: Record<string, string> };\ntype OUTPUT = { status: number, statusText: string, data: any };\n\nexport async function run(config: CONFIG, inputs: INPUTS): Promise<OUTPUT> {\n    const accessToken = await getAccessToken('Gmail');\n    \n    const url = new URL(inputs.url);\n    if (inputs.query_params) {\n        url.search += inputs.query_params;\n    }\n\n    const headers = new Headers({\n        'Authorization': `Bearer ${accessToken}`,\n        'Accept': 'application/json',\n        ...inputs.headers\n    });\n\n    const options: RequestInit = {\n        method: inputs.method,\n        headers: headers\n    };\n\n    if (inputs.body) {\n        headers.set('Content-Type', 'application/json');\n        options.body = inputs.body;\n    }\n\n    const response = await fetch(url, options);\n    let data;\n    try {\n        data = await response.json();\n    } catch (error) {\n        console.log(error);\n        data = await response.text();\n    }\n\n    return {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n    };\n}\n","tools":[],"config":[],"description":"Tool to make requests to the Airtable Developer API using OAuth for authentication.","keywords":["airtable","api","oauth"],"input_args":{"type":"object","properties":{"body":{"type":"string","description":"Request body (if applicable)"},"query_params":{"type":"string","description":"Query parameters to append to the URL"},"url":{"type":"string","description":"The API endpoint URL"},"headers":{"type":"string","description":"Additional headers as newline-separated key:value pairs"},"method":{"type":"string","description":"HTTP method (GET, POST, PUT, DELETE)"}},"required":["url","method"]},"output_arg":{"json":""},"activated":false,"embedding":[0.2906838,0.14860912,0.061953686,-0.26662344,-0.17437477,0.6740414,-0.5888531,-0.18704583,-0.05030047,0.07817342,-0.114282645,1.021915,0.23727483,0.27372605,-0.21460415,-0.5645983,-0.38751134,-0.33113432,-1.8551016,0.2639067,-0.07522333,0.4377135,0.29571596,0.12125689,-0.43609878,0.0063219247,-0.31695977,-0.0887599,-1.5363865,-2.017513,0.5057929,0.3913309,0.04400465,-0.21638921,-0.21273994,-0.5241701,0.0076821703,0.2700776,0.08449867,0.31318486,-0.4453331,1.0475376,-0.44556433,-0.32130525,0.39618772,-0.17905039,0.39447936,-0.19333081,1.1405627,0.03643033,-0.3595075,-0.49600577,0.12134282,0.7888087,-0.5577213,0.2665637,-0.32195434,0.3848406,0.2571832,0.2079304,0.15756194,0.38182586,-4.060675,0.15407544,0.10900427,0.24520776,-0.07794079,-0.9991381,0.14788678,0.021460801,-0.07647483,-0.43556207,-0.4784136,-0.13271704,0.35082546,-0.22730589,-0.1502552,0.44917977,0.28723028,0.08648783,0.38957173,1.1711881,-0.25820664,-0.18224952,-0.6957367,0.7536875,-0.066285916,-0.3758374,0.04111389,-0.15646109,-0.721292,-0.24426195,-0.25157285,-0.33331165,-0.5279707,0.040112317,0.23502865,0.82291174,0.3608227,2.8858664,0.38042724,0.07457359,-0.38459542,-1.4571245,0.14775226,-0.37358555,-0.5211402,-0.7133329,-0.029919513,0.36804023,0.23351967,0.11181764,0.5533514,0.12769845,0.2732389,0.39662343,0.48252296,0.4045636,0.32691732,0.11774017,0.0245495,0.32313287,-0.3723578,-0.06549291,-0.30682293,0.04395988,-0.18678783,0.39157346,0.2310064,-0.31705153,0.19035089,-0.16755283,-0.6925617,-0.40084565,0.14894275,0.49896377,0.34545982,-0.032129396,-0.20776263,-0.31421772,0.2139351,-0.96780527,1.5181205,0.70459425,0.20772877,0.09159872,-0.7977893,0.5002305,-0.33512935,-0.52352285,0.05949864,0.36128065,-0.07206731,-0.3441915,0.47820616,0.21038023,-0.084059626,0.0016179085,-0.39915442,-0.17918867,0.10262334,0.12574172,0.5319326,0.21452567,0.51049495,-0.9111079,0.57338107,-0.037777975,0.3486354,-0.4614557,0.26621807,-0.2650351,-0.17262004,0.8460676,-0.38669094,-0.2134038,-0.37148747,0.39108345,-0.21150449,-0.1881209,0.5165988,0.5594784,0.060480293,-0.53182876,0.17589681,0.122177884,0.19285223,0.2250948,0.47897634,0.46219227,-0.96817243,1.3964067,-0.91295034,-0.24908683,0.46302843,0.20791721,-0.19450004,0.5984539,-0.19386695,-0.3921988,-0.46347928,-0.5085038,-0.8469833,0.3032632,0.13361445,0.11348319,-0.19021986,-0.1525924,0.2591018,-0.7514868,-0.29255047,-0.06331393,0.6274788,0.024066072,0.34386256,-0.20873377,0.29987812,-0.65910953,-0.4351506,0.08000234,0.7381525,0.22972888,-0.8704114,-0.4395852,0.21939458,-0.15336189,-0.3442756,-0.12391417,-0.45650905,-0.36467835,0.47262245,1.0421746,0.19464919,1.2798024,1.0722216,0.24422014,-0.0992889,0.7149198,0.7744373,-0.32456446,0.012058508,0.07589973,-0.6283862,-0.058095906,-0.5333228,-0.5627233,0.26196513,-0.4140094,0.06382573,1.9191022,0.9266775,0.5828283,0.6053716,0.25009125,-0.3291688,-0.039559074,-1.2573608,-0.6745986,-0.15406421,0.4890574,0.056239672,-0.048444666,0.2547166,0.11277513,0.45619404,-0.18491884,-0.89272285,-0.039915714,-0.4798454,-0.17104395,-1.0848708,0.4614578,-0.104300484,-0.14435875,0.1019188,0.9303131,0.50141895,0.52861726,-0.52210665,-0.26247346,0.74458015,-0.29106724,0.9805994,-0.16427524,-0.32178217,-0.5376129,-0.30648094,0.5589782,-0.22357696,0.030674454,0.0755228,-0.6904399,-0.367739,0.47445196,1.0188601,0.57532954,0.4254353,0.897717,0.13423407,0.21115167,-0.530345,0.71488506,-0.030933838,-0.13977471,-0.92007613,-0.476025,0.26908052,-0.71414185,-0.4624176,0.6114347,-0.03892412,0.31617883,0.005034495,0.035003684,0.8589612,0.034249164,-0.16742648,1.0597357,-0.00997008,-2.1783004,-0.27352917,0.13061357,-0.53263116,-0.3277083,-0.56529135,-0.66030633,0.5243227,0.3356507,-0.5194478,0.91995,0.30228966,-0.12623835,0.42070365,0.37178943,0.34493652,0.25196615,0.13019738,-0.16317594,-0.36503044,-0.80951345,0.12462215,1.5770059,0.5532972,0.053753935,0.043726575,0.48611057,-0.8249751,-0.5752313,0.68656516,-0.059063487,-0.78823644,0.59111255,-0.05612494,-0.7448348,0.4280154,0.70017177,-0.32861507,0.011147824,-0.5469661,1.5443617,-0.17672525,-0.07973755,-0.33454615,0.59265155,-0.5078532,0.058978908,0.6719028,-0.6629716,0.1701245,-0.2122708,-0.4967857,-0.75901526,0.41967136,-0.15611528,1.0878384,0.29420692,-0.6555595,0.1274776,0.50716627,0.09870924,-0.13585925,0.5559255,-0.8327562,0.41426206],"result":{"type":"object","properties":{"data":{"description":"Response data in JSON format","type":"any"},"status":{"description":"HTTP response status code","type":"number"},"statusText":{"description":"HTTP response status text","type":"string"}},"required":["status","statusText","data"]},"sql_tables":[],"sql_queries":[],"file_inbox":null,"oauth":[{"name":"Airtable","authorizationUrl":"https://airtable.com/oauth2/v1/authorize","tokenUrl":"https://airtable.com/oauth2/v1/token","clientId":"","clientSecret":"","redirectUrl":"https://secrets.shinkai.com/redirect","version":"2.0","responseType":"code","scopes":["data.records:read","data.records:write","schema.bases:read","schema.bases:write"],"pkceType":"S256","refreshToken":"","requestTokenAuthHeader":"basic","requestTokenContentType":"application/x-www-form-urlencoded"}],"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}