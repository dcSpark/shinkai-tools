{"type":"Deno","content":[{"name":"hacker-news","homepage":null,"author":"@@official.shinkai","version":"1.0.0","js_code":"import axios from 'npm:axios@1.7.7';\n\ntype Configurations = {\n  limit?: number;  // Optional limit of stories to fetch, defaults to 10\n};\n\ntype Parameters = {};  // No input parameters needed\n\ntype Result = {\n  stories: Array<{\n    title: string;\n    author: string;\n    url: string;\n  }>;\n};\n\nexport type Run<C extends Record<string, any>, I extends Record<string, any>, R extends Record<string, any>> = (config: C, inputs: I) => Promise<R>;\n\nexport const run: Run<Configurations, Parameters, Result> = async (\n  configurations: Configurations,\n  _params: Parameters,\n): Promise<Result> => {\n  // Ensure limit is a positive number between 1 and 10\n  const requestedLimit = configurations.limit ?? 10;\n  const limit = Math.min(Math.max(1, requestedLimit), 10);\n  \n  const TOP_STORIES_URL = 'https://hacker-news.firebaseio.com/v0/topstories.json';\n  const ITEM_URL = 'https://hacker-news.firebaseio.com/v0/item';\n\n  try {\n    // Fetch top stories IDs\n    const response = await axios.get(TOP_STORIES_URL);\n    const storyIds = response.data.slice(0, limit);\n\n    // Fetch details for each story\n    const stories = await Promise.all(\n      storyIds.map(async (id: number) => {\n        const storyResponse = await axios.get(`${ITEM_URL}/${id}.json`);\n        const story = storyResponse.data;\n\n        if (story && story.type === 'story') {\n          return {\n            title: story.title || '',\n            author: story.by || '',\n            url: story.url || `https://news.ycombinator.com/item?id=${id}`,\n          };\n        }\n        return null;\n      }),\n    );\n\n    // Filter out null values and return results\n    return {\n      stories: stories.filter((story): story is NonNullable<typeof story> => story !== null),\n    };\n  } catch (error) {\n    console.error('Error fetching Hacker News stories:', error);\n    return { stories: [] };\n  }\n}; ","tools":[],"config":[{"BasicConfig":{"key_name":"limit","description":"Number of stories to fetch (default: 10)","required":false,"type":null,"key_value":null}}],"description":"Fetches top tech stories from Hacker News","keywords":["hacker-news","news","tech","stories"],"input_args":{"type":"object","properties":{},"required":[]},"output_arg":{"json":""},"activated":false,"embedding":[-0.03814847,0.31533328,-0.2529093,-0.3058103,-0.1985089,-0.48741406,-0.023982761,-0.21997428,-0.12731,0.068043165,-0.45176408,0.55424917,0.24608675,0.2561275,0.3896666,-0.36621672,0.028179033,-0.21431093,-1.4602044,-0.12303334,0.21021096,0.5458506,0.366014,-0.083663195,0.16655043,0.13825631,-0.11856836,-0.14529511,-0.74323374,-2.6044908,0.38880572,-0.16224226,-0.2879343,-0.22287941,-0.0918765,-0.61101884,0.12761685,-0.0035743043,-0.4814834,-0.3709817,0.03915681,0.039895967,-0.36150163,-0.054650277,0.24929212,-0.19605681,0.015186435,0.037146658,0.93244493,0.67739123,-0.055885024,-0.21837108,-0.1226812,-0.15872864,-0.3179245,0.12592001,0.29264098,0.09955196,0.0700365,0.4304383,0.4435915,0.3920217,-4.4191456,-0.07257586,0.53892267,-0.009766467,0.13892666,0.3028914,-0.59853977,0.19550112,0.30627412,0.25233293,-0.21483493,0.43043372,0.13574123,-0.50886333,0.62875557,-0.10805906,0.20983104,-0.45880008,0.38355398,0.41395894,-0.33785218,0.2090689,-0.28629252,0.98506486,-0.63574755,-0.4253544,0.14668676,-0.4256234,0.39419016,-0.23333304,0.4919095,-0.43815544,-0.9703915,0.27978373,-0.09478493,0.46719676,0.51323336,3.4764802,0.73558295,0.11464614,0.320775,-0.4786247,0.45770746,-0.40320614,0.06673971,-0.3330886,-0.043954026,0.122099005,-0.1294006,-0.21678251,0.3137899,-0.26579854,0.008676801,0.15464948,-0.61476576,0.4372787,0.09690599,0.1969351,-0.142504,0.39431486,-0.41147348,-0.33798718,0.017408308,-0.24885637,-0.2317057,0.30114898,0.13081186,-0.21529351,0.1684619,-0.64077884,-0.76597637,-0.2922002,0.20928513,0.3914703,0.11245955,-0.50912523,0.15121534,-1.1289661,0.16818312,-1.3909643,1.2925663,-0.19670236,0.47987807,-0.15628366,0.2805145,0.31902283,-0.5411915,0.044226598,0.0029207133,0.45792004,-0.055958804,0.11789751,0.85254085,-0.027294215,-0.19718519,0.18761703,-0.48357442,0.061199605,0.051115308,0.2613513,0.77932614,0.43892318,0.48321933,-0.15540679,0.23499814,-0.025955059,0.28176978,0.0031515397,0.60511947,-0.27652964,0.14296205,0.16784564,-0.46798941,0.22136286,-0.23176381,-0.313984,-0.002027396,-0.3655055,0.07675104,0.6810093,-0.12220967,-0.8703967,0.048734523,0.15538931,0.36680993,-0.14493936,0.71691597,0.67921925,-0.7004698,1.6328763,-0.8448027,-0.80577743,0.1331883,0.09064386,0.017929502,0.6671103,0.66682506,0.15727912,-0.2525916,0.17293513,-0.43711218,0.29730886,-0.094439395,-0.40587825,0.16737378,-0.36788183,0.11987777,-0.4147197,0.11697543,0.054423764,0.2726379,0.8735865,0.15560833,-0.26694953,-0.34419757,0.13713506,-0.08522389,0.6134031,0.62966955,-0.017020583,-0.14224984,-0.707483,-0.2013206,0.25323993,-0.20304492,-0.38308597,-0.12297341,-0.012613315,0.20278841,0.576461,0.22613141,1.0404228,0.8065981,0.3636493,0.25753906,0.2991628,0.46115556,-0.44720963,0.46298867,0.12215628,-0.64678687,-0.41327977,0.3644162,-0.7666447,0.038398363,-0.24502665,0.42645228,1.7907741,0.52832353,0.28181645,0.4639984,0.39786956,0.07475322,-0.100675486,-1.0690964,-0.1173094,-0.45249236,0.25379005,-0.0952757,-0.494944,0.53977674,0.031529184,-0.24473888,-0.122800305,-0.29432297,-0.28687525,0.09813962,-0.22256663,-0.34777838,0.76687646,0.17384852,0.065611005,-0.12865779,0.06679829,0.3804077,-0.29930922,-0.35198128,-0.26324788,-0.07565034,0.22615817,0.68740386,0.026149489,-0.34886077,-0.645195,-0.5381754,-0.1282664,-0.45409626,0.009172565,0.17407984,-0.19944513,-0.25933814,-0.5074566,1.8981926,0.34080654,0.8220157,0.38035902,-0.34294748,0.17422643,0.032347284,-0.019917354,-0.25074074,-0.11889577,-0.8347934,-0.7683334,0.29373038,-0.56909513,-0.027888,0.10471526,0.07371076,0.051889237,0.17702718,-0.5052032,0.74763274,-0.6964664,-0.048383236,0.4503612,-0.06665355,-2.5098205,-0.15071797,-0.033516522,0.16734874,-0.31003302,-0.37955645,0.1150156,-0.025094504,0.0473212,-0.3024692,1.7215409,0.21734695,-0.14503787,-0.030316424,0.27041343,0.6829386,0.06222946,0.15925118,-0.41860333,-0.74378866,-0.4118079,0.0037834048,1.5126028,-0.061137974,0.6123931,-0.03269072,0.5069015,-0.5418271,-1.5873824,0.33914813,-0.16136035,-0.31103563,0.17894292,-0.0985197,-0.21262872,-0.042688224,0.6194346,0.019581947,0.17573984,-0.26719093,1.2604337,-0.102617614,0.31531683,-0.124284625,0.6917016,0.18264659,0.1617097,0.048202414,-0.26271537,0.15094134,0.09512741,-0.054972973,-0.027183004,0.5196053,-0.15014482,0.18424168,0.024391845,0.18021879,0.3434358,0.5879235,0.639264,0.046962477,-0.10233784,-0.7766979,0.1991807],"result":{"type":"object","properties":{"stories":{"items":{"properties":{"author":{"description":"Author/poster of the story","type":"string"},"title":{"description":"Title of the story","type":"string"},"url":{"description":"URL of the story or HN discussion if no URL provided","type":"string"}},"required":["title","author","url"],"type":"object"},"type":"array"}},"required":["stories"]},"sql_tables":null,"sql_queries":null,"file_inbox":null,"oauth":null,"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}