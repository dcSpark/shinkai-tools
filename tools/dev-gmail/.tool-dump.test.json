{"type":"Deno","content":[{"name":"Gmail Developer API","tool_router_key":"local:::__official_shinkai:::gmail_developer_api","homepage":null,"author":"@@official.shinkai","version":"1.0.0","mcp_enabled":null,"js_code":"import { getAccessToken } from './shinkai-local-support.ts';\n\ntype CONFIG = {};\ntype INPUTS = { url: string, method: string, body?: string, query_params?: string, headers?: Record<string, string> };\ntype OUTPUT = { status: number, statusText: string, data: any };\n\nexport async function run(config: CONFIG, inputs: INPUTS): Promise<OUTPUT> {\n    const accessToken = await getAccessToken('Gmail');\n    \n    const url = new URL(inputs.url);\n    if (inputs.query_params) {\n        url.search += inputs.query_params;\n    }\n\n    const headers = new Headers({\n        'Authorization': `Bearer ${accessToken}`,\n        'Accept': 'application/json',\n        ...inputs.headers\n    });\n\n    const options: RequestInit = {\n        method: inputs.method,\n        headers: headers\n    };\n\n    if (inputs.body) {\n        headers.set('Content-Type', 'application/json');\n        options.body = inputs.body;\n    }\n\n    const response = await fetch(url, options);\n    let data;\n    try {\n        data = await response.json();\n    } catch (error) {\n        console.log(error);\n        data = await response.text();\n    }\n\n    return {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n    };\n}\n","tools":[],"config":[],"description":"Tool to make requests to the Gmail Developer API using OAuth for authentication.","keywords":["gmail","api","request","oauth"],"input_args":{"type":"object","properties":{"url":{"type":"string","description":"The API endpoint URL"},"method":{"type":"string","description":"HTTP method (GET, POST, PUT, DELETE)"},"body":{"type":"string","description":"Request body (if applicable)"},"headers":{"type":"string","description":"Additional headers as newline-separated key:value pairs"},"query_params":{"type":"string","description":"Query parameters to append to the URL"}},"required":["url","method"]},"output_arg":{"json":""},"activated":false,"embedding":[0.26460406,0.3222542,0.6116909,-0.59193593,0.2289538,0.10825843,0.07046038,-0.64493686,-0.3417144,-0.13095811,-0.3958172,0.43932408,0.033638597,0.3522303,0.07884602,-0.1279848,0.13645907,-0.4397042,-1.4110346,-0.113557555,0.22708824,0.66032004,0.6762612,0.14591229,-0.27838224,0.006878166,0.2264941,-0.02807767,-1.3911655,-2.097413,1.0187722,0.99061954,0.43506312,-0.22827318,-0.34587234,-0.98544824,0.07161079,0.44988286,0.26823074,-0.23203883,-0.61230683,0.39108527,-0.23318475,-0.17016774,-0.051106982,-0.4604116,0.2262434,-0.13249049,0.53093606,0.200799,-0.054989845,-0.23033403,0.16680339,0.5141777,-0.37367916,0.38791046,-0.27290446,0.11761148,0.18323989,0.32383272,0.19993815,0.58163536,-3.4712787,-0.32844225,-0.0055280756,-0.064799495,-0.055091105,-0.6769555,-0.004690775,0.18594661,-0.14808421,-0.39871466,-0.859138,0.3003112,0.61956143,-0.2153165,-0.09117341,1.181439,0.111422345,-0.09580057,0.6448433,1.0322547,-0.19153666,-0.033017658,-0.70171255,0.77778655,-0.02576721,-0.13921165,0.49781066,-0.004392499,-0.652958,-0.0617506,-0.25135753,-0.308978,-0.35653195,-0.47975832,-0.13571675,0.6043978,0.49168652,2.9010074,0.5958612,-0.15360962,0.01997631,-1.4495324,0.32342607,0.13168046,-0.27916762,-0.5759065,0.09303383,0.14190727,0.27027664,0.1709405,0.34811136,-0.029734386,0.28615138,-0.4073692,0.40733337,0.4602808,0.26091745,0.9264738,0.084971264,0.2635586,-0.8442115,-0.28898102,-0.29094002,0.2759225,-0.142762,0.5515234,0.25072405,-0.24958158,0.43508393,-0.25926578,-0.3192759,0.2954847,0.2168633,0.4966777,0.07584011,-0.8152581,-0.33299136,-0.2670668,0.23351482,-1.3608502,1.1784925,0.49126062,0.27268213,-0.51926523,-0.22002035,0.41300848,-0.24034359,-0.9222669,-0.22316198,-0.1235223,-0.013292947,-0.27047184,0.8278409,0.26295635,-0.53173995,-0.009370841,-0.8127966,0.2146306,0.16317733,0.73637027,0.49368396,0.5036473,0.48730844,-0.90733224,0.7767431,0.32604638,-0.053850487,-0.054300357,-0.12744567,0.030035071,-0.18978798,0.60547304,-0.26866055,-0.7590063,-0.46380347,-0.05793103,-0.06929982,-0.5564848,0.20723462,1.0869386,-0.19460635,-0.5635457,-0.044201504,0.76130897,0.07592937,0.015689902,0.5477597,0.34440073,-1.0259653,1.5730819,-0.69357485,-0.87568706,0.32515705,0.16395178,-0.3461156,0.33693755,-0.067037836,-0.2998799,-0.84157395,-0.8198891,-0.86653453,0.22128753,-0.10320889,0.24736223,0.14109506,0.052069403,0.5804968,-0.6463861,0.09183225,-0.516273,0.22547811,0.279332,0.2530439,-0.33557177,-0.09675178,-0.20777038,-0.18850937,0.15544239,0.6636163,0.62165904,-1.3605634,-0.45625952,-0.013412941,0.3346063,-0.008948214,0.21575202,-0.65769565,-0.4014985,0.8486932,1.6589718,-0.4257307,1.2101974,0.74458146,-0.012058221,0.23371893,0.85368,0.4339868,-0.77488583,-0.45445347,-0.30800608,-0.4326167,0.32909483,-0.16618428,-0.2269924,0.5237371,-0.10944691,-0.106516875,1.92628,0.878123,0.7454086,-0.18317138,0.10669272,-0.22495869,0.062381126,-1.6808448,-0.088959344,-0.20243405,-0.2362653,0.060910992,0.048716947,0.3540257,-0.19412115,0.46021056,-0.10728082,-0.85736126,-1.0144876,-0.27809447,-0.3024286,-0.6620502,0.70154566,0.3599547,0.13237071,-0.44108027,0.4670669,0.03116206,0.34818658,-0.4559087,-0.90526485,0.6390416,-0.201577,0.4636185,-0.21387117,-0.4162358,-0.6522659,0.4158112,0.50535464,-0.1497195,0.5834675,-0.44272086,-0.7239259,-0.1783757,0.3317026,1.113899,0.20589566,0.3854482,0.53567153,0.36163902,0.4424646,-0.22554839,0.64038986,0.22236213,-0.9137339,-0.69414926,-0.8554754,0.40796363,-0.8805124,-0.54775155,0.12888788,-0.07959085,0.88251007,-0.33430886,0.09250662,0.33669013,-0.17906353,0.10619378,0.73773766,-0.22518764,-1.9389274,-0.024684573,-0.11191547,-0.43723622,-0.15233433,-0.8605341,0.034783997,-0.40423268,0.1793912,-0.40087026,1.876237,0.21535943,-0.4875761,-0.5002888,0.57655376,0.26196533,0.40029466,-0.2854818,-0.51491445,-0.76651114,-0.52522635,0.22359788,1.4369287,0.6301276,-0.367541,0.6554801,0.38662514,-0.5923395,-0.7523133,0.15037152,-0.25945395,-0.93618494,0.7019957,-0.0013673976,-0.15824217,0.6575485,0.738774,0.0011045672,0.09942776,-0.31893077,1.7847134,0.29348958,-0.15440986,-0.124008104,0.1257652,-0.3507546,0.05305295,0.7317281,-0.32217532,-0.0037446693,0.1492702,0.30397978,-0.6621125,0.5093312,0.004613919,0.46321043,0.21370442,-0.28864112,0.5535921,0.3371066,0.53924423,-0.29825744,0.6312371,-0.31476063,0.45416045],"result":{"type":"object","properties":{"data":{"description":"Response data in JSON format","type":"any"},"status":{"description":"HTTP response status code","type":"number"},"statusText":{"description":"HTTP response status text","type":"string"}},"required":["status","statusText","data"]},"sql_tables":[],"sql_queries":[],"file_inbox":null,"oauth":[{"name":"Gmail","authorizationUrl":"https://accounts.google.com/o/oauth2/v2/auth","tokenUrl":"https://oauth2.googleapis.com/token","clientId":"","clientSecret":"","redirectUrl":"https://secrets.shinkai.com/redirect","version":"2.0","responseType":"code","scopes":["https://www.googleapis.com/auth/gmail.readonly","https://www.googleapis.com/auth/gmail.modify","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/gmail.compose","https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/userinfo.profile"],"pkceType":"","refreshToken":"","requestTokenAuthHeader":null,"requestTokenContentType":null}],"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}