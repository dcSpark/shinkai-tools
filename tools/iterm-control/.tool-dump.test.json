{"type":"Python","content":[{"version":"1.0.0","name":"iterm-control","homepage":null,"author":"@@official.shinkai","py_code":"# /// script\n# dependencies = [\n#   \"requests\",\n# ]\n# ///\n\nfrom typing import Dict, Any, Optional, List\nimport subprocess\nimport os\n\n# Map of control characters to their ASCII values\nCONTROL_CHARS = {\n    'C': 3,   # Ctrl-C (SIGINT)\n    'D': 4,   # Ctrl-D (EOF)\n    'Z': 26,  # Ctrl-Z (SIGTSTP)\n    'L': 12,  # Ctrl-L (Clear screen)\n    'U': 21,  # Ctrl-U (Clear line)\n    'R': 18,  # Ctrl-R (Search history)\n}\n\nclass CONFIG:\n    pass  # No specific configuration needed for control characters\n\nclass INPUTS:\n    letter: str  # The single letter to send as Ctrl-letter (e.g. 'C', 'D', 'Z')\n\nclass OUTPUT:\n    success: bool  # Whether the control character was successfully sent\n    message: str  # Result of the control operation\n\nasync def run(config: CONFIG, inputs: INPUTS) -> OUTPUT:\n    output = OUTPUT()\n    output.success = False\n    output.message = \"\"\n\n    if not inputs.letter or len(inputs.letter) != 1:\n        output.message = \"You must provide a single letter to send as a control character\"\n        return output\n\n    control_letter = inputs.letter.upper()\n    if control_letter not in CONTROL_CHARS:\n        output.message = f\"Control-{control_letter} is not supported. Supported letters: {', '.join(CONTROL_CHARS.keys())}\"\n        return output\n\n    try:\n        # Construct AppleScript command to send control character\n        ascii_value = CONTROL_CHARS[control_letter]\n        script_cmd = f'''\n            tell application \"iTerm2\"\n                tell current session of current window\n                    write text (ASCII character {ascii_value})\n                end tell\n            end tell\n        '''\n\n        # Execute AppleScript\n        process = subprocess.Popen(\n            ['/usr/bin/osascript', '-e', script_cmd],\n            stdout=subprocess.PIPE,\n            stderr=subprocess.PIPE\n        )\n        stdout, stderr = process.communicate()\n\n        if process.returncode == 0:\n            output.success = True\n            output.message = f\"Successfully sent Control-{control_letter} (ASCII {ascii_value})\"\n        else:\n            output.message = f\"Failed to send Control-{control_letter}: {stderr.decode()}\"\n    except Exception as e:\n        output.message = f\"Error sending control character: {str(e)}\"\n\n    return output ","tools":[],"config":[],"description":"Sends a control character (like Ctrl-C) to the active iTerm terminal session.","keywords":["iterm","terminal","control","key","shinkai"],"input_args":{"type":"object","properties":{"letter":{"type":"string","description":"The single letter to send as Ctrl-letter (e.g. 'C', 'D', 'Z')"}},"required":["letter"]},"output_arg":{"json":""},"activated":false,"embedding":[-0.74387544,-0.05686584,-0.38997397,0.2403236,-0.22648932,0.42956764,-0.6713481,0.38490802,0.29547188,0.29437238,-0.24656788,0.2131147,-0.2955279,0.2782889,0.14649914,-0.6849342,0.22856985,-0.66247994,-1.4073441,-0.15359133,-0.00044695102,0.51783013,0.05216853,0.14099565,-0.4174782,-0.30335027,0.26123378,0.46833307,-1.193319,-2.2110603,-0.5979305,0.17361644,-0.46196255,0.2633146,0.067886524,-0.7878793,-0.0955776,0.008635856,-0.62005335,-0.66530627,0.4715593,0.527137,-0.6663302,0.11468727,0.8241952,0.1592831,0.014719689,-0.50066245,0.9347373,0.44252652,-0.086909235,-0.3893797,-0.27205825,0.3219429,0.21927476,-0.1212426,0.2607017,0.19212922,-0.052249063,-0.020969415,0.09212319,0.67601866,-4.077604,-0.18253186,0.58100986,-0.4918396,0.3993323,0.0021703728,0.15863281,-0.1659257,-0.32843873,0.2830165,-0.48474383,0.26041028,0.44633433,-0.9853639,0.053948555,0.7902144,0.6595868,-0.7439017,0.16178703,0.7971327,-0.0551162,0.030371629,-0.41041365,0.6232648,-0.62481743,-0.066901386,-0.062490985,0.17722578,-0.08295244,-0.50319195,0.18517713,-0.39987853,-0.90077114,0.21752326,0.3167319,0.44830117,0.04262399,3.183698,0.30377904,0.55480635,0.36392513,-0.44994906,-0.053942226,-0.50373524,-0.025384126,-0.42920035,-0.18657033,-0.14237593,0.24361393,-0.10938309,0.146978,0.35586098,0.673813,-0.05817689,-0.81669486,0.00919069,0.5576943,1.0380648,-0.54942083,-0.094243884,-0.8422475,-0.22071195,-0.30105135,0.5997721,-0.1792355,0.28620157,-0.13865946,0.034430414,0.41031948,-0.11203393,-0.41485086,0.08988516,-0.3006658,0.5798677,0.08333215,-0.24298294,0.13811716,-0.35259113,-0.060292542,-1.6217005,1.4255557,-0.12899144,0.48814324,0.16203243,-0.21840769,-0.0071398467,0.016618136,-0.19064306,-0.35184616,0.11331831,0.09263163,0.47977853,0.9062204,0.0022507224,-0.18515761,-0.039510086,-0.3649311,0.24068141,-0.17301185,-0.8352894,0.821843,0.5629547,0.6111652,-0.28783324,0.081751324,-0.15062055,0.21056189,-0.16475795,0.24576804,-0.64593977,0.04057606,0.03361074,-0.5775421,0.02894074,0.44061598,-0.07867459,0.04074311,-0.26014048,-0.42937744,0.8924263,-1.1968697,0.100120746,0.21998696,-0.4577878,0.358837,-0.14632997,0.09460308,0.66251826,-0.98832357,1.5198293,-0.4436183,0.2154871,-0.26224968,0.13688776,0.07370055,1.0643537,0.2069364,-0.07754075,-0.6398817,-0.6138818,-0.64265203,0.20654112,-0.06893442,-0.15321447,1.1982305,0.46659297,-0.30996817,0.13975912,0.3788466,-0.27748296,0.6362859,0.34888798,0.89228916,-0.11631559,-0.17693561,-0.04342637,-0.27479932,0.77257705,0.5135624,0.4632049,-0.5207645,-0.5437895,0.17447254,-0.06123118,0.0587435,0.35298997,-0.6557804,-0.34476313,0.19253229,0.39802936,0.46653846,0.37459534,0.57454807,0.32805175,-0.1607185,0.3437199,0.29742742,-0.5018697,0.047516067,0.1449366,0.40754098,0.12787312,0.3645115,-0.8876542,-0.35912406,-0.1519477,-0.26891974,1.0173137,0.61253566,0.10789758,0.8845436,0.0237693,-0.3529191,-0.027276285,-1.6406608,-0.69619477,-0.8395607,0.5044077,0.23422655,0.007682249,0.31421208,0.87190276,-0.4378016,-0.28821215,-0.48714724,0.066612616,-0.19859728,0.11547565,-0.5735053,0.5448764,0.46908265,-0.4404403,0.45699418,-0.4766868,0.047545828,-0.0040002167,-0.28191933,-0.24365078,-0.4517097,0.3734935,0.115571804,-0.0633115,-0.5005659,-0.017303593,-0.7200837,-0.5836169,-0.09511221,-0.024481103,0.12159773,-0.51196134,0.49007738,0.053790487,2.363547,0.83416057,-0.65297127,0.40985617,-0.02741702,0.23330435,0.5568253,-0.4698279,0.07727255,0.1705313,-0.8372787,-0.527559,0.5788928,-0.26737586,-0.4276992,0.6088577,-0.47332448,0.062545195,0.2709703,-0.2149294,1.0345049,0.33416086,0.19108842,0.5187738,-0.3629274,-1.8146774,-0.526747,0.12705314,-0.009758361,0.21672788,-0.44259676,0.21006218,-0.34354228,0.35392925,-0.3743366,0.8514092,0.87419236,-0.07840678,0.84848404,-0.4056279,0.9955884,0.7005422,0.20088191,-0.16265067,-0.31563598,-0.71928275,0.06939018,1.7554827,-0.23796286,-0.024146665,0.11388484,0.1560224,-0.8194919,-1.6009766,-0.08631982,-0.19561872,-0.22251165,1.0979834,-0.13789679,-0.40136802,0.25962377,0.35794204,0.17451185,-0.32870603,-0.37485954,1.6814411,0.51925987,0.21952307,-0.66417885,0.38466728,0.11225407,-0.09951165,0.71270263,-0.9527084,-0.01668308,0.5407486,0.62458456,0.027736299,-0.003148958,0.7711102,0.4856375,0.085713,-0.096647896,0.1714249,0.18943447,0.06695408,0.571121,0.044404894,-1.0844145,-0.18995981],"result":{"type":"object","properties":{"message":{"description":"Result of the control operation","type":"string"},"success":{"description":"Whether the control character was successfully sent","type":"boolean"}},"required":["success","message"]},"sql_tables":[],"sql_queries":[],"file_inbox":null,"oauth":null,"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}