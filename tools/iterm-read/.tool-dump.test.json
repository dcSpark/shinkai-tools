{"type":"Python","content":[{"name":"iterm-read","tool_router_key":"local:::__official_shinkai:::iterm_read","homepage":null,"author":"@@official.shinkai","version":"1.0.0","mcp_enabled":null,"py_code":"# /// script\n# dependencies = [\n#   \"requests\",\n# ]\n# ///\n\nfrom typing import Dict, Any, Optional, List\nimport subprocess\nimport os\n\nclass CONFIG:\n    pass  # No specific configuration needed for reading\n\nclass INPUTS:\n    lines_of_output: int = 25  # Number of lines of terminal output to fetch\n\nclass OUTPUT:\n    terminal_output: str  # The last N lines of terminal output\n    success: bool  # Whether the read operation was successful\n    message: str  # Success or error message\n\nasync def run(config: CONFIG, inputs: INPUTS) -> OUTPUT:\n    output = OUTPUT()\n    output.terminal_output = \"\"\n    output.success = False\n    output.message = \"\"\n\n    try:\n        # Construct AppleScript command to get terminal content\n        script_cmd = f'''\n            tell application \"iTerm2\"\n                tell current session of current window\n                    get contents\n                end tell\n            end tell\n        '''\n\n        # Execute AppleScript\n        process = subprocess.Popen(\n            ['/usr/bin/osascript', '-e', script_cmd],\n            stdout=subprocess.PIPE,\n            stderr=subprocess.PIPE\n        )\n        stdout, stderr = process.communicate()\n\n        if process.returncode == 0:\n            # Get the terminal output and split into lines\n            all_lines = stdout.decode().split('\\n')\n            \n            # Get the last N lines based on input parameter\n            requested_lines = min(inputs.lines_of_output, len(all_lines))\n            output.terminal_output = '\\n'.join(all_lines[-requested_lines:])\n            \n            output.success = True\n            output.message = f\"Successfully read {requested_lines} lines from iTerm\"\n        else:\n            output.message = f\"Failed to read from iTerm: {stderr.decode()}\"\n    except Exception as e:\n        output.message = f\"Error reading from iTerm: {str(e)}\"\n\n    return output ","tools":[],"config":[],"description":"Reads output from the active iTerm terminal.","keywords":["iterm","terminal","read","automation","shinkai"],"input_args":{"type":"object","properties":{"lines_of_output":{"type":"number","description":"Number of lines of terminal output to fetch"}},"required":[]},"output_arg":{"json":""},"activated":false,"embedding":[-0.2295901,0.22630282,-0.321659,0.4098493,-0.13704886,0.17642286,-0.6521445,0.49121416,0.05452478,-0.061295472,0.07742939,0.0350791,-0.10008775,-0.17312291,0.1276042,-0.23873581,-0.053679954,-0.73372054,-1.0851045,-0.20251256,0.35388198,0.37972087,-0.0060204864,-0.13343291,-0.20684056,-0.03824762,-0.068582684,0.32630157,-1.6949583,-2.3936894,-0.4925479,0.1257309,-0.2127876,0.060185686,-0.40191343,-0.85554445,0.11523453,-0.058998123,-0.80480814,-0.6660539,0.28697252,0.7997862,-0.057970405,-0.016170071,0.38938844,0.27418205,-0.106366985,-0.8705876,0.7227055,0.69729567,-0.000797417,-0.40123418,-0.033555057,0.036454875,-0.11033021,-0.7029472,0.6554103,0.080190435,-0.1411472,-0.056806996,0.17536286,0.8062068,-4.496191,-0.2890778,0.509867,-0.39056325,0.23532605,0.54912275,0.020421494,-0.011713639,-0.46165496,0.15041266,-0.064761505,-0.015447833,0.29656097,-0.6131289,0.06973603,0.34836978,0.4083473,-0.38489813,-0.08281094,0.59300625,-0.39861846,0.21118516,-0.16906507,0.8755752,-0.7836072,-0.27418494,0.13480361,0.3230885,0.09408629,-0.35099813,-0.34848106,0.16373935,-0.35511175,0.2009809,0.018815074,0.8319085,0.08430929,3.0546458,0.8615936,0.82003325,-0.24256074,-0.34965214,-0.102859415,-0.7295448,0.00850701,-0.35219344,-0.13665204,-0.13025834,0.4014232,-0.3524619,0.7024723,0.3924993,0.62316746,0.04659558,-0.8095247,-0.30210274,0.36763668,0.44130066,-0.51170266,-0.045591068,-0.9028874,-0.47555035,-0.08019784,0.26582834,0.4158117,0.2102793,-0.21210334,-0.1737675,0.5585875,-0.10586235,-0.29165325,0.034742385,0.07637512,0.659761,0.1127387,-0.4158537,-0.046583094,-0.37398568,-0.24796584,-1.8306891,1.4217588,0.11970743,0.51565886,0.002418965,0.3483357,0.616467,0.15661478,0.16915657,-0.12584737,-0.050169006,0.024755621,0.47889888,0.522504,-0.013793631,-0.301439,0.19217005,-0.1585718,0.30988187,-0.49145183,-0.33289143,0.7179223,0.018311486,0.39395487,-0.17204264,-0.20009392,-0.09332272,0.44136482,-0.16256575,0.57867384,-0.7172446,-0.16916627,0.5286671,-0.71677536,0.20043698,-0.009395301,-0.1588271,0.07889958,-0.23684412,-0.16903666,0.647147,-0.4936439,-0.073101185,-0.041283846,-0.33185655,0.7448788,0.139256,0.57458454,1.2725275,-0.6148832,2.1359756,-0.6323961,0.028432697,-0.38813674,-0.5996032,-0.11215429,0.8156924,0.033572905,-0.15150625,-0.7140724,0.21036005,-0.43681195,0.3123325,0.055660814,-0.41409534,0.51988345,0.11639735,0.022530679,-0.29339102,0.036033608,-0.36324772,-0.2189497,0.47445834,0.48312888,0.0488535,-0.11027782,-0.26680264,-0.29776955,0.6346161,0.14306097,0.28754807,-0.7408016,-0.51835674,-0.20182519,0.29109478,0.10290109,0.14728086,-0.54036766,-0.28889254,0.04885064,0.23603311,0.7279082,0.5187551,0.3653693,0.30838037,-0.09864519,0.30583435,0.5028833,0.04933831,0.16286547,0.0032472387,0.38530612,-0.28655693,0.17785768,-0.44177905,-0.30301934,0.29004526,0.077481896,1.1149057,0.6567766,0.021007005,0.5886773,0.19386326,-0.20900613,0.15868822,-1.2973006,-0.57552236,-0.5594632,0.50582653,0.41865194,-0.21450514,0.555767,0.97461313,-0.21247156,-0.21175276,-0.39396733,-0.33386537,-0.012358561,0.13441938,-0.6169129,0.676326,0.07241424,-0.49960655,0.17765579,-0.39162344,0.050507188,0.0032513142,0.07819723,-0.0575326,-0.11237552,0.0038915873,0.60918075,-0.23196737,-0.13675353,-0.058773596,-0.6937218,-0.26504034,-0.47094232,-0.14334053,0.24498308,-0.5359162,-0.21557643,0.0022854507,2.3014693,0.3323726,-0.60093206,0.43490005,0.26823097,0.4815908,0.2405197,-0.33002624,-0.6660852,0.115951374,-0.8244153,-0.6011314,0.36179096,0.18568055,-0.35579547,0.71880966,-0.6573195,-0.18947235,0.29770255,-0.1861602,0.924737,-0.078737594,-0.19505319,0.2917081,-0.15612008,-1.8490667,-0.72476774,-0.48582762,0.1183914,0.2660745,-0.46074045,0.5144624,-0.63655597,0.17929198,-0.40046072,0.5131644,0.9081207,-0.22854859,0.6412337,-0.21273562,0.9698814,0.45444226,0.24037217,-0.057251938,-0.20159961,-0.19800738,0.048104554,1.9530876,0.073408656,0.08034172,0.47905976,0.35546577,-0.85438246,-1.8236502,0.05734196,0.09570861,-0.16348717,0.904861,-0.10347842,-0.6885787,0.47169963,0.9915887,0.25007793,0.0032290071,-0.9057453,1.5124764,-0.14954759,0.22662391,-0.47219667,0.370651,0.025090791,-0.06787725,0.35794494,-0.66609794,0.3187588,0.70283246,0.047776435,0.29699528,0.21919802,0.7215463,0.79241914,-0.026045717,-0.20080897,0.14072512,0.08533572,0.21073987,0.5847464,0.09509189,-0.6578729,0.12568718],"result":{"type":"object","properties":{"message":{"description":"Success or error message","type":"string"},"success":{"description":"Whether the read operation was successful","type":"boolean"},"terminal_output":{"description":"The last N lines of terminal output","type":"string"}},"required":["terminal_output","success","message"]},"sql_tables":[],"sql_queries":[],"file_inbox":null,"oauth":null,"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}