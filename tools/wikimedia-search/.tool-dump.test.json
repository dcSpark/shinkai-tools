{"type":"Deno","content":[{"name":"Wikimedia Search","homepage":null,"author":"@@official.shinkai","version":"1.0.0","mcp_enabled":null,"js_code":"import axios from 'npm:axios';\n\ntype Configurations = {\n  project?: string;\n  language?: string;\n};\n\ntype Parameters = {\n  query: string;\n  limit?: number;\n};\n\ntype Result = {\n  results: Array<{\n    title: string;\n    description: string;\n    excerpt: string;\n  }>;\n};\n\nexport type Run<C extends Record<string, any>, I extends Record<string, any>, R extends Record<string, any>> = (\n  config: C,\n  inputs: I\n) => Promise<R>;\n\nexport const run: Run<Configurations, Parameters, Result> = async (\n  configurations: Configurations,\n  params: Parameters\n): Promise<Result> => {\n  const project = configurations?.project || 'wikipedia';\n  const language = configurations?.language || 'en';\n  const limit = params.limit || 10;\n  \n  const api_url = `https://api.wikimedia.org/core/v1/${project}/${language}/search/page`;\n  \n  const response = await axios.get(api_url, {\n    params: {\n      q: params.query,\n      limit: Math.min(Math.max(1, limit), 50)\n    }\n  });\n\n  return {\n    results: response.data.pages.map((page: any) => ({\n      title: page.title,\n      description: page.description || '',\n      excerpt: page.excerpt.replace(/<span class=\"searchmatch\">/g, '**')\n                          .replace(/<\\/span>/g, '**')\n    }))\n  };\n};\n","tools":[],"config":[{"BasicConfig":{"key_name":"project","description":"Wikimedia project (e.g., wikipedia)","required":false,"type":null,"key_value":null}},{"BasicConfig":{"key_name":"language","description":"Language code (e.g., en)","required":false,"type":null,"key_value":null}}],"description":"Search across Wikimedia page content with full-text search capabilities","keywords":["wikimedia","search","wikipedia","full-text","content"],"input_args":{"type":"object","properties":{"query":{"type":"string","description":"Search query"},"limit":{"type":"integer","description":"Maximum number of results (1-50)"}},"required":["query"]},"output_arg":{"json":""},"activated":false,"embedding":[0.25669166,0.6294794,-0.17988996,-0.14003602,-0.29916698,-0.07248502,-0.8029262,-0.3922621,0.40210703,-0.103214845,-0.008377238,0.963215,0.24535857,-0.13860068,0.79672974,0.08964757,-0.03727281,-0.08309144,-1.639158,-0.1221007,0.34037644,1.1203521,0.30097094,-0.08406894,-0.0943925,-0.059780937,-0.2501085,-0.46901226,-1.1782295,-2.0613456,0.25176948,0.3913848,-0.29893148,0.03579116,0.20827255,-0.29128483,-0.30662474,0.1526073,-0.3977357,-0.36045802,0.2268149,0.16265048,-0.55215377,0.49838197,-0.41423982,-0.28780615,-0.15959512,-0.29655075,0.5945919,0.99813986,-0.5625805,-0.29088646,0.11646928,0.847062,-0.5193799,0.36321503,-0.38109404,0.05732893,-0.22120544,0.39395213,0.4265366,0.8547095,-4.4131308,-0.41954914,0.38695323,0.32283604,-0.11268154,-0.4254522,0.24067354,0.3604083,0.4784799,0.29057682,0.33681765,0.07694559,-0.09390191,-0.6467167,0.23595043,0.19409604,-0.16427036,-0.25158063,-0.13297202,0.11192909,-0.19380932,0.092410825,-0.42102566,0.064768046,-0.37787077,-0.7705685,0.57598114,-0.165717,-0.2061043,-0.38853133,0.03431231,-0.14656377,-0.5983154,0.32950598,0.19749358,0.4292891,0.5914335,3.4092286,0.81050295,0.27432117,0.46852866,-0.7352774,0.37326577,-0.2516173,0.1562694,0.060153194,0.34395325,0.006793145,0.05912805,-0.66834295,0.14625368,-0.13468339,-0.24695167,0.12329993,-0.91264206,0.2223333,0.027582144,0.44699982,-0.42586425,0.43610984,-0.44845468,0.026577864,-0.2543512,-0.35441864,-0.18068402,0.0782958,0.05071673,0.51001257,0.6557076,-0.18563199,-0.952009,0.23648731,-0.11602883,0.12936243,0.075316384,-0.19370879,0.119502015,-1.1765851,0.22742741,-1.3750124,0.89865977,0.26023605,0.8027485,0.56807166,0.12498112,0.11651474,-0.63887125,0.08631046,0.11309482,0.31545833,0.1503504,0.057620257,0.5656537,-0.015313237,-0.081310734,0.06414398,-0.65013325,0.3925848,0.0674824,-0.22326957,0.991905,0.49983412,0.37114573,-0.25216255,0.47044933,-0.09502626,0.28467694,-0.1414166,0.13101265,-0.76607955,0.2872176,0.6201653,0.036130253,-0.072480746,-0.50441056,-0.055830993,-0.123476356,-0.7705666,0.21869147,0.5668979,-0.19843248,-0.49874192,-0.28551906,0.1296338,0.317417,-0.066867225,0.5935214,0.99413276,-0.29996067,1.80766,-0.628637,-0.60687363,-0.039108835,-0.029091459,-0.5002964,0.50242174,0.29626918,0.22940996,-0.1953626,-0.40121228,0.22203463,-0.1582418,-0.6846469,-0.18633252,0.28561357,-0.23517387,-0.11919546,-0.5991687,-0.037041698,-0.018312529,0.53093994,-0.068559356,0.44639003,0.13884729,0.17781922,0.12716764,0.046306577,1.0398295,0.053508885,0.29153004,-0.52855086,-0.57905215,-0.64353687,0.12777779,-0.42092013,0.123383045,-0.3704459,-0.14331633,0.33443078,0.80408025,-0.01053334,0.8021874,0.6951345,0.21822597,-0.47916597,0.28543752,0.37700075,-0.5645226,1.0986389,-0.26580372,-0.1878936,0.0028601214,0.38939837,-1.073798,-0.3871336,0.15758383,-0.03208997,1.4250698,0.55635154,0.09727262,0.32661095,0.3131991,0.12329856,0.4767427,-1.4513978,0.032394435,-0.6539417,0.49544486,0.020714499,-0.1948018,0.081333995,-0.31560582,0.27499598,-0.5239235,-0.19034453,-0.053508896,-0.24878475,-0.2036388,-0.326212,0.49183488,-0.091462255,0.26577917,0.20931284,-0.10416907,-0.25468576,-0.11243338,-0.56301564,-0.18594624,0.38946322,-0.17924893,0.2336188,0.20447473,-0.7063151,-0.092112355,-0.40554357,-0.043025464,-0.36823174,0.44997147,-0.41224483,-0.3809287,-0.082324326,0.100720964,1.6896255,-0.34779912,0.089237,0.68180984,-0.0008123182,0.07902117,-0.16388795,0.02868177,-0.2771856,0.4034852,-0.29979652,-0.33879292,0.47169644,-0.051641487,-0.38784534,0.4283828,-0.39656177,0.10734792,0.1640728,-0.11574219,0.4254996,-0.8507972,-0.2779662,0.078169316,0.071002185,-2.3128502,-0.19291697,0.84161615,0.26436305,-0.5969396,-0.4318605,0.54970735,-0.06963534,0.071652554,-0.47713697,1.3235745,0.06586101,-0.25705865,-0.26041216,0.35486504,0.74626327,-0.22910273,-0.19664693,-0.18779519,-1.2940605,-0.4414437,0.5160349,1.6241512,0.4843898,0.78763604,0.3547312,0.33131742,-0.7482045,-1.5378244,-0.014658131,0.06895785,0.080402926,0.9463963,0.18355133,-0.28293794,0.4119088,0.13083798,0.09845258,0.015679356,-0.11198557,1.9418455,-0.1998989,-0.07934202,-0.7136138,0.183487,0.23894085,0.3346876,0.23541816,-0.09427201,0.5369572,-0.058532298,0.25800362,-0.81716895,0.372209,0.24390317,-0.102595344,0.25089884,0.63398695,0.44201025,0.5789963,0.28161377,0.046536155,-0.11893226,-0.67371905,0.040585488],"result":{"type":"object","properties":{"results":{"items":{"properties":{"description":{"type":"string"},"excerpt":{"type":"string"},"title":{"type":"string"},"url":{"type":"string"}},"required":["title","description","excerpt","url"],"type":"object"},"type":"array"}},"required":["results"]},"sql_tables":null,"sql_queries":null,"file_inbox":null,"oauth":null,"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}