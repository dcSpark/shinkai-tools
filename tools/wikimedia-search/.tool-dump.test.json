{"type":"Deno","content":[{"name":"Wikimedia Search","homepage":null,"author":"@@official.shinkai","version":"1.0.0","js_code":"import axios from 'npm:axios';\n\ntype Configurations = {\n  project?: string;\n  language?: string;\n};\n\ntype Parameters = {\n  query: string;\n  limit?: number;\n};\n\ntype Result = {\n  results: Array<{\n    title: string;\n    description: string;\n    excerpt: string;\n  }>;\n};\n\nexport type Run<C extends Record<string, any>, I extends Record<string, any>, R extends Record<string, any>> = (\n  config: C,\n  inputs: I\n) => Promise<R>;\n\nexport const run: Run<Configurations, Parameters, Result> = async (\n  configurations: Configurations,\n  params: Parameters\n): Promise<Result> => {\n  const project = configurations?.project || 'wikipedia';\n  const language = configurations?.language || 'en';\n  const limit = params.limit || 10;\n  \n  const api_url = `https://api.wikimedia.org/core/v1/${project}/${language}/search/page`;\n  \n  const response = await axios.get(api_url, {\n    params: {\n      q: params.query,\n      limit: Math.min(Math.max(1, limit), 50)\n    }\n  });\n\n  return {\n    results: response.data.pages.map((page: any) => ({\n      title: page.title,\n      description: page.description || '',\n      excerpt: page.excerpt.replace(/<span class=\"searchmatch\">/g, '**')\n                          .replace(/<\\/span>/g, '**')\n    }))\n  };\n};\n","tools":[],"config":[{"BasicConfig":{"key_name":"project","description":"Wikimedia project (e.g., wikipedia)","required":false,"type":null,"key_value":null}},{"BasicConfig":{"key_name":"language","description":"Language code (e.g., en)","required":false,"type":null,"key_value":null}}],"description":"Search across Wikimedia page content with full-text search capabilities","keywords":["wikimedia","search","wikipedia","full-text","content"],"input_args":{"type":"object","properties":{"query":{"type":"string","description":"Search query"},"limit":{"type":"integer","description":"Maximum number of results (1-50)"}},"required":["query"]},"output_arg":{"json":""},"activated":false,"embedding":[0.2567247,0.6294004,-0.17981799,-0.14012544,-0.29903606,-0.07266275,-0.8029342,-0.39221883,0.40218437,-0.10328814,-0.008234659,0.96326894,0.24524619,-0.13874355,0.7967977,0.08959957,-0.037250366,-0.08318189,-1.6391385,-0.121976115,0.340378,1.1205177,0.30100968,-0.084028766,-0.09463307,-0.059581634,-0.25019374,-0.46905547,-1.1782808,-2.061274,0.25171122,0.3913127,-0.29887918,0.035719544,0.20835707,-0.29108974,-0.30671784,0.1527029,-0.39754185,-0.3602096,0.22677955,0.16270053,-0.55206615,0.49842626,-0.41439196,-0.28787178,-0.15953101,-0.296426,0.59450996,0.99816895,-0.5624988,-0.29079676,0.1165974,0.8471949,-0.5192243,0.3634474,-0.38122404,0.057399403,-0.22116488,0.39397642,0.42665988,0.8545908,-4.4134965,-0.41983104,0.38703263,0.32285038,-0.11246215,-0.42535064,0.240774,0.36041248,0.4786323,0.29034224,0.3367531,0.077113666,-0.094002314,-0.6467162,0.23585793,0.19402152,-0.1642987,-0.25164554,-0.13294573,0.11202029,-0.19381814,0.09234623,-0.42095444,0.06470342,-0.37784368,-0.77066326,0.5758679,-0.16566196,-0.20632215,-0.38857338,0.034295745,-0.14654529,-0.5983235,0.3293594,0.19752161,0.42919075,0.59139264,3.4089477,0.8104477,0.2745225,0.4686339,-0.73530954,0.37310365,-0.25158376,0.15624495,0.060077444,0.3441087,0.0067091254,0.05952834,-0.66818815,0.1461752,-0.13471544,-0.24675149,0.12334329,-0.91248834,0.22240508,0.027584352,0.4471455,-0.42584133,0.43631184,-0.44851282,0.026769688,-0.2544547,-0.35469025,-0.18047889,0.07813679,0.050763305,0.5098598,0.6558525,-0.18559997,-0.9521391,0.23635457,-0.11584151,0.1294534,0.07527501,-0.19367497,0.11946053,-1.1765674,0.22742368,-1.3751404,0.8987885,0.26031786,0.80258936,0.5680628,0.12486988,0.11655388,-0.6387981,0.08627921,0.11320163,0.31539452,0.15030739,0.057641484,0.56542635,-0.0153355645,-0.081085116,0.06397973,-0.6500951,0.39262614,0.06747714,-0.22323509,0.99197173,0.49991775,0.37089255,-0.2523229,0.4703803,-0.09511701,0.2845717,-0.14117101,0.13080767,-0.7663831,0.2871112,0.6201014,0.036152966,-0.0724946,-0.5046172,-0.055888273,-0.1236871,-0.77053976,0.21881185,0.56699604,-0.1985318,-0.49876633,-0.2853164,0.12957662,0.3174916,-0.067045055,0.59365743,0.99415433,-0.3000438,1.8078979,-0.62865216,-0.6069526,-0.039163366,-0.028919898,-0.5002806,0.50249535,0.2961408,0.22938125,-0.19551745,-0.4011852,0.22203355,-0.1583074,-0.6847059,-0.18619907,0.28563592,-0.23505768,-0.11918722,-0.5993066,-0.03703623,-0.018407755,0.53082,-0.06867718,0.44627845,0.13910279,0.17775193,0.12715873,0.046203032,1.0399263,0.053688288,0.29162195,-0.5286433,-0.578868,-0.6434142,0.12769967,-0.4206645,0.12349438,-0.37032723,-0.14329508,0.33430582,0.8040847,-0.010566272,0.80222404,0.69517475,0.21822491,-0.4789868,0.2852854,0.3769036,-0.56439286,1.0988399,-0.26589882,-0.1878547,0.0027438104,0.38944897,-1.0737715,-0.38698643,0.15756792,-0.032052785,1.4249475,0.55652213,0.097435415,0.32675225,0.3132684,0.12351333,0.47661605,-1.4513133,0.032406334,-0.6540126,0.49565884,0.0207984,-0.19478273,0.08147906,-0.31535482,0.2749601,-0.52416533,-0.19049609,-0.05335781,-0.24885151,-0.20363519,-0.32626605,0.49165356,-0.09156886,0.26572534,0.20926383,-0.10419738,-0.25479597,-0.112626605,-0.5630903,-0.18590306,0.38951397,-0.17895384,0.23376366,0.20452166,-0.7063262,-0.091878146,-0.4055527,-0.04290668,-0.36826047,0.44992235,-0.41231602,-0.38106367,-0.082403734,0.10062148,1.6897293,-0.34773842,0.08898285,0.68161553,-0.00083321566,0.079068385,-0.16398597,0.028781397,-0.27719986,0.40331033,-0.299892,-0.33881277,0.4718145,-0.05182502,-0.38805163,0.42847624,-0.39636362,0.10745081,0.16408548,-0.11590451,0.4254184,-0.8507765,-0.27798426,0.078165166,0.071151316,-2.3127246,-0.19294532,0.84163034,0.26427147,-0.59669673,-0.43170413,0.54959273,-0.06955941,0.071872175,-0.4770304,1.3236629,0.06589764,-0.25721985,-0.26053277,0.35466832,0.7462095,-0.22911328,-0.19682562,-0.18782237,-1.2941431,-0.44161725,0.5160912,1.6241324,0.4843654,0.78776795,0.35469723,0.33123025,-0.74825275,-1.5377976,-0.014631458,0.06891896,0.080416836,0.946159,0.18352422,-0.2830501,0.4119198,0.13081498,0.09843345,0.015649687,-0.11189404,1.9420736,-0.19993693,-0.079471156,-0.7135624,0.18326794,0.23898344,0.33448058,0.23531269,-0.09405888,0.5371061,-0.058692887,0.2582484,-0.81732243,0.37216204,0.24392156,-0.10283008,0.2510671,0.6341773,0.44199955,0.5788014,0.28137743,0.046464436,-0.11885564,-0.67371374,0.04065247],"result":{"type":"object","properties":{"results":{"items":{"properties":{"description":{"type":"string"},"excerpt":{"type":"string"},"title":{"type":"string"},"url":{"type":"string"}},"required":["title","description","excerpt","url"],"type":"object"},"type":"array"}},"required":["results"]},"sql_tables":null,"sql_queries":null,"file_inbox":null,"oauth":null,"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}