{"type":"Deno","content":[{"name":"X/Twitter Post","homepage":null,"author":"@@official.shinkai","version":"1.0.0","js_code":"import { getAccessToken } from './shinkai-local-support.ts';\n\ntype CONFIG = {};\ntype INPUTS = {\n    text: string;\n};\ntype OUTPUT = {\n};\n\nasync function postTweet(bearerToken: string, text: string) {\n  try {\n    const url = 'https://api.x.com/2/tweets';\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${bearerToken}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        text\n      })\n    });\n\n    if (!response.ok) {\n      throw new Error(`Server returned ${response.status} : ${response.statusText}`);\n    }\n\n    const data = await response.json();\n    console.log('Tweet posted:', data);\n    return data;\n  } catch (error) {\n    console.error('Error posting tweet:', error);\n    return error;\n  }\n}\n\nexport async function run(config: CONFIG, inputs: INPUTS): Promise<OUTPUT> {\n    const accessToken = await getAccessToken(\"twitter\");\n    return await postTweet(accessToken, inputs.text)    \n    \n}","tools":[],"config":[],"description":"Function to post a tweet to Twitter.","keywords":["twitter","X","post","social media"],"input_args":{"type":"object","properties":{"text":{"type":"string","description":"Message to post"}},"required":[]},"output_arg":{"json":""},"activated":false,"embedding":[0.29419714,0.044715993,-0.08472824,-0.3596148,-0.36112997,0.15024751,-1.2623692,-0.121126145,0.77052677,-0.37017107,-0.16201174,0.31220248,-0.30055413,0.39176568,0.5124255,-0.26926005,0.15670618,-0.73046976,-2.2530584,0.3636606,-0.033898905,0.9498287,0.16001835,-0.06474072,-0.13535833,-0.71190935,0.5164653,-0.11643411,-1.2358605,-1.8434762,-0.11914357,0.57179314,-0.7578084,0.19929647,0.69374394,-0.022813234,-0.29951274,-0.21268031,-0.2013212,-0.009402297,-0.3158564,-0.36339867,-0.4879111,0.2831961,0.04024005,-0.5270208,-0.14752552,-0.011943791,0.3792737,0.40871114,-0.11643243,0.088049315,-0.1277782,0.4180324,-0.43636012,-0.38454044,-0.54683834,-0.78648657,-0.120501876,0.3359043,0.09091974,0.15050812,-4.006941,0.16425066,0.10323948,-0.25754064,-0.2151339,0.28914413,0.04182141,0.24908453,0.17105037,0.08708035,-0.66422164,0.06742294,0.21523958,-0.62386143,0.0935224,-0.25304973,0.53362113,0.18905556,0.5708722,0.56157213,0.048643753,0.45824477,-0.2087765,0.9702601,-0.09159906,-0.1590894,0.22805968,0.15716055,-0.34179744,0.063115366,0.594624,0.025454536,-0.4344561,-0.05217436,-0.1868218,0.34382558,-0.16016203,2.82865,0.43440056,-0.05800135,0.44138947,-0.32553622,-0.38936338,-0.6070375,-0.41922307,-0.3135796,0.108748645,-0.42694464,0.30626154,-0.10109474,-0.30872914,-0.15280795,0.1772417,-0.20734647,-0.3601042,0.52435243,0.12257256,0.81574327,-0.14413372,0.32579726,-1.0713991,-0.36330524,0.0457186,0.4830694,-0.71091473,0.08492307,0.13647038,-0.379717,0.93933016,-0.43009916,-0.41034737,-0.2428742,-0.12712874,0.3875908,-0.1668361,-0.63553226,0.22324881,-0.9516078,0.79902184,-1.7406433,0.80949867,0.19679123,0.5604219,0.4102943,-0.4029207,0.15223569,-0.23493396,0.23202801,0.22541264,0.014303759,0.21514738,0.116437525,0.9375549,0.05035751,-0.23672463,0.27270472,-0.24712498,0.29996613,-0.010596193,0.19327301,0.6766656,-0.5047528,0.19519088,-0.4474276,0.56735694,0.09896499,0.23621273,0.26490048,0.14887121,-0.34912395,-0.48643515,-0.23250854,-0.7485843,-0.137696,-0.18337977,-0.13316348,0.44284937,-0.20742796,-0.046476863,0.77154535,-0.5321926,0.014208667,0.012658723,0.26622802,0.42434698,-0.47068143,1.2717874,0.93188083,-0.18027046,1.7090449,-0.60502464,-0.36471626,-0.011204759,0.28025222,0.40935487,0.23459491,0.24156676,-0.3409424,-0.19756469,-0.3637474,0.18950611,-0.15835868,-0.54429823,0.12133555,0.6099043,0.15715697,-0.012424201,-0.29890603,0.30494294,-1.0671118,0.88555133,0.4495837,0.20615022,0.454822,-0.54320985,0.01971152,0.07012211,0.4699293,-0.36536208,0.8973122,-0.387295,-0.45881307,0.072395936,-0.33614922,-0.0725991,0.41578442,-0.06418067,-0.82547206,-0.21681076,0.8719808,0.22767767,1.4693404,0.71987325,0.2770809,-0.06354501,0.5963483,0.47952548,-0.49264014,0.011498023,0.44711232,-0.23695198,-0.15026173,0.22333407,-0.46678695,0.10244906,0.14141294,0.22144197,1.9264159,0.35488817,0.41005185,0.6202181,0.14869116,0.0139815435,-0.03291077,-2.1207616,-0.48612395,0.40433466,0.99482816,0.057316333,0.0039962977,0.75820124,-0.54542613,-0.39531094,-0.17068966,-0.20408405,-0.15370443,-0.110939845,-0.46126443,-0.81662947,0.7300637,0.11019997,-0.09730152,0.27788624,-0.14311525,-0.1176595,-0.13340983,-0.447568,-0.28585696,-0.47312766,0.06296199,0.40357333,0.056495488,-0.32727665,-0.54304916,-0.12912714,-0.18226904,0.50688875,-0.17452028,0.46717507,-0.5643217,-0.32895708,0.68992907,2.2128012,0.43460926,0.46618843,0.3944058,-0.00062801363,-0.21960413,-0.40231666,-0.13423616,-0.41995904,-0.591948,-0.9467548,-0.61205685,-0.019867279,-1.2693332,-0.07228962,-0.37074643,0.7909676,0.21913329,0.24579507,-0.21514991,0.64402825,-0.3345985,-0.38395765,0.31597155,0.16844665,-1.744025,0.4567633,0.48296988,-0.19717345,-0.22542816,0.022329276,0.18946815,0.014143743,0.874953,-0.39511406,1.6363496,0.3868573,-0.08653911,0.37638536,0.16625756,0.76850057,0.4763102,-0.18387854,-0.13253114,-1.3588253,-0.33952194,0.39177516,1.9236274,0.08391233,0.8615971,-0.035699055,-0.31430334,-0.3715813,-1.3998227,0.31499055,-0.46776152,-0.26938713,0.29946306,-0.30137652,-0.1607413,-0.1287726,1.0444766,0.16131504,-0.5219927,0.18575463,1.7399775,0.23048593,-0.14185868,-0.16977552,-0.0639839,-0.1788536,0.073234275,-0.29821315,-0.7691495,-0.4397285,0.5939721,0.4550734,-0.30991054,-0.35431036,0.2671051,0.33360326,0.23753506,0.32892624,0.90872693,0.5848144,0.29101217,0.6047823,0.17691815,-0.9592336,-0.30221337],"result":{"type":"object","properties":{"data":{"description":"The data returned by the Twitter API","type":"string"}},"required":["data"]},"sql_tables":[],"sql_queries":[],"file_inbox":null,"oauth":[{"name":"twitter","authorizationUrl":"https://twitter.com/i/oauth2/authorize","tokenUrl":"https://api.x.com/2/oauth2/token","clientId":"","clientSecret":"","redirectUrl":"https://secrets.shinkai.com/redirect","version":"2.0","responseType":"code","scopes":["tweet.read","tweet.write","users.read","offline.access"],"pkceType":"plain","refreshToken":"true"}],"assets":null},false]}
