{"type":"Deno","content":[{"name":"Gmail Developer API","homepage":null,"author":"@@official.shinkai","version":"1.0.0","js_code":"import { getAccessToken } from './shinkai-local-support.ts';\n\ntype CONFIG = {};\ntype INPUTS = { url: string, method: string, body?: string, query_params?: string, headers?: Record<string, string> };\ntype OUTPUT = { status: number, statusText: string, data: any };\n\nexport async function run(config: CONFIG, inputs: INPUTS): Promise<OUTPUT> {\n    const accessToken = await getAccessToken('Gmail');\n    \n    const url = new URL(inputs.url);\n    if (inputs.query_params) {\n        url.search += inputs.query_params;\n    }\n\n    const headers = new Headers({\n        'Authorization': `Bearer ${accessToken}`,\n        'Accept': 'application/json',\n        ...inputs.headers\n    });\n\n    const options: RequestInit = {\n        method: inputs.method,\n        headers: headers\n    };\n\n    if (inputs.body) {\n        headers.set('Content-Type', 'application/json');\n        options.body = inputs.body;\n    }\n\n    const response = await fetch(url, options);\n    let data;\n    try {\n        data = await response.json();\n    } catch (error) {\n        console.log(error);\n        data = await response.text();\n    }\n\n    return {\n        status: response.status,\n        statusText: response.statusText,\n        data: data\n    };\n}\n","tools":[],"config":[],"description":"Tool to make requests to the Gmail Developer API using OAuth for authentication.","keywords":["gmail","api","request","oauth"],"input_args":{"type":"object","properties":{"headers":{"type":"string","description":"Additional headers as newline-separated key:value pairs"},"body":{"type":"string","description":"Request body (if applicable)"},"url":{"type":"string","description":"The API endpoint URL"},"method":{"type":"string","description":"HTTP method (GET, POST, PUT, DELETE)"},"query_params":{"type":"string","description":"Query parameters to append to the URL"}},"required":["url","method"]},"output_arg":{"json":""},"activated":false,"embedding":[0.26470146,0.32205045,0.61179537,-0.5919323,0.22923468,0.10816504,0.07041721,-0.64475125,-0.34176713,-0.13120773,-0.39589515,0.43932748,0.033632196,0.35232154,0.07881651,-0.12791054,0.13638885,-0.43992043,-1.4110267,-0.11350758,0.22722253,0.6605084,0.6765055,0.14576624,-0.27834004,0.0067811618,0.22666538,-0.027820311,-1.3911723,-2.0972362,1.0188582,0.9905591,0.43523666,-0.22821835,-0.3460026,-0.98563933,0.07142788,0.44995067,0.26842025,-0.23201448,-0.61247,0.39098942,-0.23319644,-0.17024902,-0.051042374,-0.46035847,0.22615547,-0.13251443,0.53095555,0.20078164,-0.05527861,-0.23042776,0.16677085,0.5141119,-0.37370312,0.38793936,-0.27308208,0.11767128,0.18322822,0.3238504,0.20001572,0.581648,-3.4709065,-0.328526,-0.0054377783,-0.064710386,-0.05501612,-0.6771008,-0.0047670305,0.1858693,-0.14796317,-0.39908725,-0.85922223,0.30021974,0.61956704,-0.2154017,-0.09128709,1.1813711,0.11129572,-0.09572041,0.64493304,1.0322196,-0.19180678,-0.032956224,-0.70164055,0.7779458,-0.02578017,-0.13936792,0.4979846,-0.0044409484,-0.6530715,-0.06179936,-0.25137144,-0.30902258,-0.3563936,-0.47999752,-0.13575874,0.60429025,0.49155483,2.9011126,0.59584534,-0.15357475,0.019865103,-1.4498463,0.32318592,0.13170505,-0.27913794,-0.57575965,0.09278929,0.14201088,0.27037963,0.1709851,0.34816688,-0.029684044,0.28601637,-0.40736657,0.40757287,0.46040386,0.26113462,0.92627317,0.08500686,0.26371318,-0.8442506,-0.28892842,-0.29109323,0.27561712,-0.1428834,0.5516516,0.25079283,-0.24976802,0.43473217,-0.259336,-0.31904987,0.2955633,0.21684882,0.49688894,0.07587278,-0.8151566,-0.33296838,-0.26684403,0.23364377,-1.3607222,1.1784441,0.49117664,0.27248552,-0.51942587,-0.21978983,0.41327843,-0.24021325,-0.9221073,-0.2229713,-0.12356469,-0.013465232,-0.2704978,0.82796025,0.2632219,-0.53187555,-0.009470783,-0.81278807,0.21458861,0.16308014,0.7365371,0.49381346,0.50368845,0.48750538,-0.90733665,0.7766607,0.3263464,-0.053826094,-0.054190762,-0.12743968,0.030087117,-0.18982996,0.6056187,-0.2684325,-0.759011,-0.46414098,-0.05791522,-0.06913181,-0.5564404,0.20739867,1.0870659,-0.1945805,-0.563322,-0.044222094,0.7610742,0.07594151,0.015794748,0.5477039,0.34434056,-1.0258762,1.5730201,-0.6936028,-0.87572443,0.3252228,0.16401039,-0.34613883,0.33700818,-0.06713183,-0.29990396,-0.8415211,-0.8200769,-0.8664439,0.22134668,-0.103018664,0.24733382,0.141236,0.052005097,0.5805108,-0.6461834,0.091986105,-0.5163915,0.22566481,0.2793109,0.2532031,-0.3356815,-0.09669796,-0.20769936,-0.18879099,0.15510234,0.66353375,0.6217975,-1.360394,-0.45623952,-0.013478842,0.33462393,-0.00888741,0.21568374,-0.65764886,-0.4014885,0.84886056,1.6591781,-0.42553765,1.210451,0.74457127,-0.012253769,0.23400211,0.8537518,0.43399826,-0.7749448,-0.45445508,-0.30813244,-0.43267423,0.32900155,-0.1663203,-0.2270312,0.5238393,-0.10961367,-0.10650527,1.9263837,0.87813956,0.7454335,-0.18325819,0.10668288,-0.2250112,0.06247496,-1.6809002,-0.08882173,-0.20253171,-0.23626328,0.060812943,0.048486933,0.3539275,-0.19435288,0.46025112,-0.107089534,-0.85734844,-1.0144794,-0.27825797,-0.302645,-0.66223466,0.7014563,0.35992092,0.13238095,-0.4412359,0.4669504,0.03114283,0.34790185,-0.45591828,-0.90532666,0.63908607,-0.20163922,0.46352902,-0.21396069,-0.4161461,-0.6522068,0.41573086,0.5053909,-0.14973956,0.58325166,-0.44277117,-0.7239924,-0.17843749,0.33170387,1.1138245,0.20592006,0.38553283,0.5355488,0.3618234,0.44250393,-0.22531286,0.6406,0.22235334,-0.91384625,-0.694359,-0.85539836,0.407946,-0.88062364,-0.5477666,0.12901668,-0.07956149,0.8823973,-0.33441928,0.092213236,0.33655834,-0.17911161,0.10620628,0.73786104,-0.22525665,-1.9384273,-0.024766957,-0.111927,-0.43712506,-0.15224199,-0.8607047,0.034774676,-0.40403953,0.17929056,-0.40091544,1.8763776,0.21530508,-0.48761156,-0.50039726,0.57667017,0.26179203,0.400131,-0.28557023,-0.51501614,-0.76663136,-0.525419,0.22337097,1.4371707,0.63016605,-0.36762848,0.6553967,0.3864137,-0.5922828,-0.7520281,0.15045173,-0.25946423,-0.9362404,0.7018766,-0.0013316385,-0.15846828,0.6577807,0.73884296,0.0011551976,0.09948579,-0.3187942,1.7846881,0.2936271,-0.1546507,-0.12387422,0.12594798,-0.35095707,0.053016946,0.731707,-0.32214588,-0.0039092153,0.14899573,0.30400383,-0.6620394,0.5094929,0.004661007,0.46318674,0.21372895,-0.28880408,0.55350685,0.33702976,0.53947484,-0.29807436,0.6310538,-0.31452963,0.45398003],"result":{"type":"object","properties":{"data":{"description":"Response data in JSON format","type":"any"},"status":{"description":"HTTP response status code","type":"number"},"statusText":{"description":"HTTP response status text","type":"string"}},"required":["status","statusText","data"]},"sql_tables":[],"sql_queries":[],"file_inbox":null,"oauth":[{"name":"Gmail","authorizationUrl":"https://accounts.google.com/o/oauth2/v2/auth","tokenUrl":"https://oauth2.googleapis.com/token","clientId":"","clientSecret":"","redirectUrl":"https://secrets.shinkai.com/redirect","version":"2.0","responseType":"code","scopes":["https://www.googleapis.com/auth/gmail.readonly","https://www.googleapis.com/auth/gmail.modify","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/gmail.compose","https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/userinfo.profile"],"pkceType":"","refreshToken":"","requestTokenAuthHeader":null,"requestTokenContentType":null}],"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}