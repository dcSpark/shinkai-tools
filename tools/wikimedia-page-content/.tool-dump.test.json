{"type":"Deno","content":[{"name":"Wikimedia Page Content","homepage":null,"author":"@@official.shinkai","version":"1.0.0","mcp_enabled":null,"js_code":"import axios from 'npm:axios';\n\ntype Configurations = {\n  project?: string;\n  language?: string;\n};\n\ntype Parameters = {\n  title: string;\n};\n\ntype Result = {\n  content: {\n    title: string;\n    html: string;\n    url: string;\n    lastModified: string;\n    language: string;\n  };\n};\n\nexport type Run<C extends Record<string, any>, I extends Record<string, any>, R extends Record<string, any>> = (\n  config: C,\n  inputs: I\n) => Promise<R>;\n\nexport const run: Run<Configurations, Parameters, Result> = async (\n  configurations: Configurations,\n  params: Parameters\n): Promise<Result> => {\n  try {\n    const project = configurations?.project || 'wikipedia';\n    const language = configurations?.language || 'en';\n    \n    // Using the REST v1 API endpoint for page content\n    const api_url = `https://${language}.${project}.org/api/rest_v1/page/html/${encodeURIComponent(params.title)}`;\n    \n    const response = await axios.get(api_url, {\n      headers: {\n        'User-Agent': 'ShinkaiWikimediaPageContent/1.0',\n        'Accept': 'text/html; charset=utf-8',\n        'Api-User-Agent': 'ShinkaiWikimediaPageContent/1.0 (https://github.com/dcSpark/shinkai-tools)'\n      }\n    });\n\n    if (!response.data) {\n      throw new Error('No data received from Wikimedia API');\n    }\n\n    return {\n      content: {\n        title: params.title,\n        html: response.data,\n        url: `https://${language}.${project}.org/wiki/${encodeURIComponent(params.title.replace(/ /g, '_'))}`,\n        lastModified: response.headers['last-modified'] || '',\n        language: language\n      }\n    };\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      if (error.response?.status === 404) {\n        throw new Error(`Page '${params.title}' not found`);\n      }\n      throw new Error(`Failed to fetch page content: ${error.response?.data?.detail || error.response?.data?.message || error.message}`);\n    }\n    throw error;\n  }\n};\n","tools":[],"config":[{"BasicConfig":{"key_name":"project","description":"Wikimedia project (e.g., wikipedia)","required":false,"type":null,"key_value":null}},{"BasicConfig":{"key_name":"language","description":"Language code (e.g., en)","required":false,"type":null,"key_value":null}}],"description":"Fetch the full HTML content of a specific Wikimedia page","keywords":["wikimedia","content","wikipedia","page","html","article"],"input_args":{"type":"object","properties":{"title":{"type":"string","description":"Title of the page to fetch"}},"required":["title"]},"output_arg":{"json":""},"activated":false,"embedding":[0.2241178,0.538221,-0.5135828,-0.13551146,0.04206377,0.51746273,-1.4866605,-0.25087184,0.68224853,0.10966309,0.014274465,0.69828814,0.2789551,-0.063770324,0.74130523,0.3813736,0.015338165,-0.43868598,-1.8270867,-0.31612784,-0.08170004,1.3887212,0.5814674,-0.045651287,-0.42418283,-0.12690021,-0.12062149,-0.6095642,-1.1816655,-1.6119899,0.44160432,0.23101622,-0.3053953,-0.328502,0.22210976,0.009181067,-0.3201953,-0.012761526,-0.35469577,-0.18891484,0.11525092,0.07148319,-0.37726706,0.04009606,-0.7410627,0.025710836,-0.20858645,-0.4135547,0.19585794,0.6008749,-0.38910583,-0.3314636,0.15438995,0.26014736,-0.5034055,0.3771416,-0.8829191,-0.12887275,-0.3919771,0.45918453,0.16839944,0.74820834,-4.1181746,-0.28072122,0.6534558,0.21204272,-0.5519619,-0.5857425,0.33225355,0.05527255,0.20613766,0.094268076,0.19480497,0.04920254,0.3235907,-0.8086246,0.6067226,0.06891315,-0.53357285,-0.70860463,-0.38250563,0.4326378,-0.21696769,0.35698155,-0.3838752,0.030740023,0.050354376,-0.74578583,0.3872305,0.03462373,-0.43788162,-0.596841,0.5818147,-0.25082323,-1.0508225,-0.34019482,0.31998166,1.0308226,0.566528,2.951517,1.2067347,0.31390023,0.09358061,-0.6032813,0.58453447,-0.2788217,0.11558412,0.3134413,0.42791915,-0.6193379,0.19488955,-0.63599116,0.091527365,-0.16725099,-0.03340733,-0.15319304,-1.0735584,-0.3979498,0.231867,0.54570127,-0.15533982,0.118351504,-0.6089178,-0.12611395,-0.08583546,0.07729424,-0.092102505,0.09446643,-0.07023038,0.3392708,0.46426734,-0.3380193,-1.2804701,0.57526875,-0.16438311,0.42426547,-0.03939806,0.13419604,0.27394614,-1.3032048,-0.067055374,-1.1870389,0.5436987,0.09402041,0.1546261,0.7865376,0.18636304,0.5452414,-0.76660043,0.090249866,0.33059663,-0.017050982,-0.18317832,0.028289855,0.46552324,-0.06473656,0.14485204,0.000075124204,-0.5963768,0.042688943,0.096195325,-0.59022945,0.4957066,0.28374806,0.064563096,-0.3586161,0.022030264,0.17865056,0.19680485,-0.116996795,0.4653907,-0.6355317,-0.17659764,0.3296154,0.5422661,-0.40457073,-0.8559737,-0.007044606,-0.0017218441,-0.5868275,0.3192753,0.7832193,-0.018636167,-0.21921259,-0.18402536,0.120282374,0.57532513,-0.09442351,1.1309419,1.3547297,-0.02346117,1.9604312,-0.65039575,-0.7317136,0.27256945,-0.057475302,-0.32899052,0.3573072,0.54385525,0.14333718,0.060826987,-0.62352157,0.4046713,-0.09422247,-0.51766044,0.07381667,0.3480851,-0.57369345,-0.17462848,-0.7549913,-0.35310453,-0.3540022,0.5696633,0.042155385,0.2749861,-0.21807298,0.14463681,0.55815905,0.4825498,1.07398,0.072105795,0.043504767,-0.38758612,-0.31387678,-0.8635438,0.08539176,-0.7639081,0.54106957,-0.5187222,-0.13150454,0.24109241,0.73050725,-0.0021741167,0.59143263,1.2667358,0.26014325,-0.9238668,0.5869242,0.07804215,-0.022096235,0.8659564,-0.3953442,-0.13464253,-0.2240744,0.100456655,-0.8819984,-0.7898751,0.45099777,0.16872342,1.4486084,0.8064698,0.10404917,0.64026856,0.33726472,0.20978644,0.6667003,-1.7022084,-0.16064724,-0.5972003,0.6813132,-0.27104053,0.075117,0.29365093,-0.70323944,0.2945365,-0.3684766,-0.0404886,-0.242769,-0.46125007,0.21647346,-0.5347308,0.58170027,-0.17929883,0.13122688,0.054794386,-0.19601357,0.11188256,-0.2778476,-0.12586886,0.008021934,0.71417505,-0.20940012,0.47897157,0.22156468,-0.617658,-0.16046722,-0.0918798,-0.05317869,-0.15061766,0.5116588,-0.13907355,-0.42650658,-0.08976084,0.1474472,1.4775227,-0.4288438,0.09720639,0.35859075,-0.05750561,0.22670043,-0.47471818,0.44798997,-0.29106703,0.028931506,-0.23998499,-0.4149538,0.4946034,-0.32246768,-0.55290824,-0.00042316318,-0.6913724,0.32895944,0.20439771,0.2918862,0.34053838,-0.6334903,-0.6310197,0.09220354,0.1326307,-2.0224755,0.12239611,0.44698521,0.15986188,-0.44319957,-0.85958636,0.8217371,0.18255731,-0.17765029,-0.30826718,1.3857019,0.33427998,-0.17471321,0.35381806,0.4835995,0.5513555,-0.25526884,-0.43319654,-0.17206743,-1.1785353,-0.0038783564,0.52295274,1.2645783,0.1400592,0.9913566,0.3171585,0.36293867,-0.5636601,-1.6012824,-0.37332556,0.15468389,0.5489246,1.0444028,-0.42666477,-0.23853055,0.67451334,-0.031148728,-0.39174005,-0.19505166,-0.5058176,2.201878,-0.43847978,0.44072726,-0.6050395,-0.18561083,0.1730033,0.47353524,0.8052366,-0.10183938,0.61885387,-0.4400576,0.48435646,-0.3958635,0.4582723,0.89438903,-0.034509383,0.012177274,0.84107447,0.47238213,0.784431,0.41394025,0.24539414,0.1850031,-0.33311114,0.33546847],"result":{"type":"object","properties":{"content":{"properties":{"html":{"type":"string"},"language":{"type":"string"},"lastModified":{"type":"string"},"title":{"type":"string"},"url":{"type":"string"}},"required":["title","html","url","lastModified","language"],"type":"object"}},"required":["content"]},"sql_tables":null,"sql_queries":null,"file_inbox":null,"oauth":null,"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}