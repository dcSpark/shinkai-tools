{"type":"Deno","content":[{"name":"Perplexity API","homepage":null,"author":"@@official.shinkai","version":"1.0.0","mcp_enabled":null,"js_code":"type Configurations = {\n  apiKey: string;\n};\ntype Parameters = {\n  query: string;\n};\n\ntype Result = {\n  response: string;\n};\n\ninterface PerplexityResponse {\n  choices: Array<{\n    message: {\n      content: string;\n    };\n  }>;\n}\nexport type Run<C extends Record<string, any>, I extends Record<string, any>, R extends Record<string, any>> = (config: C, inputs: I) => Promise<R>;\n\nexport const run: Run<Configurations, Parameters, Result> = async (\n  configurations,\n  parameters,\n): Promise<Result> => {\n  const response = await fetch('https://api.perplexity.ai/chat/completions', {\n    method: 'POST',\n    headers: {\n      accept: 'application/json',\n      authorization: `Bearer ${configurations.apiKey}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      model: 'llama-3.1-sonar-small-128k-online',\n      messages: [\n        { role: 'system', content: 'Be precise and concise.' },\n        { role: 'user', content: parameters.query },\n      ],\n    }),\n  });\n\n  if (!response.ok) {\n    throw new Error(\n      `Failed to fetch data from Perplexity API, status: ${response.status}`,\n    );\n  }\n\n  const data = (await response.json()) as PerplexityResponse;\n  const responseContent =\n    data.choices[0]?.message?.content || 'No information available';\n\n  return { response: responseContent };\n};\n","tools":[],"config":[{"BasicConfig":{"key_name":"apiKey","description":"API key for accessing the Perplexity API","required":true,"type":null,"key_value":null}}],"description":"Searches the web using Perplexity API (limited)","keywords":["perplexity","api","shinkai"],"input_args":{"type":"object","properties":{"query":{"type":"string","description":"The search query to send to Perplexity API"}},"required":["query"]},"output_arg":{"json":""},"activated":false,"embedding":[0.1163625,0.3799978,-0.0926657,-0.67388296,-0.75369334,-0.032084815,-0.4581579,-0.49815315,-0.07664051,-0.057489067,-0.5497278,1.0429986,0.6678619,-0.16035692,0.47377133,0.5035215,0.21572375,-0.6654753,-1.594764,0.2270686,0.53446245,0.7356558,0.5043817,0.2865889,-0.028607141,-0.031135261,-0.5206649,-0.041522644,-1.3852718,-2.3034027,0.8839542,0.30362946,-0.1434974,-0.26893353,-0.05977183,-0.52066094,-0.26150948,0.03623259,-0.6086566,0.055529237,0.2904619,0.47803277,-0.7002261,0.032517366,-0.2995419,-0.27012217,0.29307783,-0.19853017,0.5312067,0.3267473,-0.27206022,-0.04880154,0.18241975,0.34500977,-0.49140325,0.12307286,-0.09204134,-0.30769357,-0.21790293,0.13230787,0.5443727,0.8113641,-3.989441,0.15549049,-0.15928696,0.36422923,-0.15013768,-0.41266608,0.10911665,0.7352271,0.115351915,-0.24727456,-0.2170411,0.2228888,0.06430516,-0.38249967,0.0006159507,0.14030366,0.1465751,-0.39411607,0.41301388,0.5844935,-0.34501055,-0.12415611,-0.032724977,0.43849042,-0.15003854,0.025260508,0.33473456,0.16661957,-0.7038121,-0.19330038,0.033272736,-0.27478153,-0.7335723,0.06083303,0.19133149,0.6365463,0.5872358,3.5087204,0.45495963,-0.4058608,0.177959,-0.29587513,0.65014565,-0.23015618,0.10254817,-0.14218488,-0.045955587,-0.06469856,-0.04914592,-0.06680122,0.45495877,0.4116227,-0.30026132,-0.59421873,0.18796639,0.3022715,0.20935175,0.54308367,-0.8490343,0.43846253,-0.37304512,-0.2113747,0.038509127,0.08134205,-1.0378295,0.2798657,0.43638694,-0.13673332,0.40270066,-0.26599383,-0.6148299,0.2104334,-0.1247931,0.090196505,0.3588676,-0.45559052,0.2360515,-0.6968339,0.31379256,-1.2785286,1.014405,0.5599177,0.5549463,0.855425,-0.3098426,-0.018355198,-0.36176413,0.29071164,-0.38736767,0.27588183,-0.10645824,-0.52537423,0.36156717,-0.27403745,0.101973325,0.0511164,-0.62426925,0.318035,-0.22516926,0.1733495,0.5028932,0.83855003,0.46489888,-0.49302456,0.23513526,-0.042089462,0.12142894,-0.36237937,0.33649546,0.13800937,-0.029296719,0.4422539,-0.53067756,0.27350324,-0.7710619,0.13047436,-0.08575906,-1.0154618,0.23215891,0.96699774,-0.0212158,-0.7571623,-0.15573207,0.28627858,0.23341152,-0.13492092,0.5230814,0.3106252,-0.54444027,2.0870848,-0.7946985,-0.47228435,0.04134729,-0.1944312,-0.5042523,0.4970699,-0.17016387,-0.3414237,-0.31268555,-0.74982697,-0.018858895,0.07508371,0.14664322,-0.7211011,0.61950445,-0.559743,0.42443657,-0.6046252,-0.0013967752,-0.20688823,0.017640717,0.080015875,0.50672126,-0.120636165,0.28858778,0.1168523,0.119880855,0.3858446,0.12597522,-0.18814236,-0.41235495,-0.49253625,-0.40533108,-0.25423366,-0.47712392,0.0633329,-0.28604066,-0.071132556,0.56015056,0.49805987,0.6555228,0.89623994,0.8168194,-0.20787877,-0.4254362,0.7694615,0.33268434,-0.45474392,0.56441087,-0.13018808,-0.26216388,-0.3359077,0.52757204,-1.1810799,0.015309788,0.06611036,-0.5011263,2.0788348,1.0235685,-0.0203272,0.2937433,-0.031965088,-0.22652885,-0.13026515,-1.6195054,-0.047920372,-0.64586216,0.5824258,-0.38904703,-0.17549503,0.3587901,-0.07749537,0.19991711,0.006978821,-0.86743003,-0.5371437,0.03180112,-0.257946,-0.11019916,0.6789369,-0.0981954,0.4451826,0.28445658,-0.06255618,0.57808137,-0.016895257,-0.8491804,0.112631395,0.29884392,0.34407967,0.73221284,-0.013615705,-0.3791621,-0.38710222,-0.44069237,0.6621739,-0.5502546,0.08524966,-0.5260046,0.18417549,-0.569469,-0.25148007,1.8593172,0.4596267,0.6117511,0.21326844,0.070403345,0.3737777,-0.23816988,0.06438744,0.49581936,0.14176583,-0.13770248,-0.08787094,0.5861328,-0.34090057,-0.49332643,-0.19952066,-0.16790107,0.21253765,0.056581672,-0.6322472,0.46441936,-0.41510773,0.14164178,0.52950144,0.07623689,-1.9221308,-0.30143112,0.4250239,-0.0066273287,-0.44257265,-0.28061023,0.4210884,-0.34814057,0.09207727,0.22286619,1.6681333,0.5954378,-0.45678562,-0.46456105,-0.48287922,0.72022736,-0.39323187,-0.14953865,-0.36583394,-0.7590605,-0.17707746,0.51822996,1.1790133,0.6408836,0.6498339,-0.08146179,0.27058864,-0.32910597,-1.2288762,0.09221445,0.3359869,-0.47403705,0.72474533,-0.029373713,-0.5512429,1.0290858,0.7369443,0.37873897,-0.120055266,-0.25910637,1.791449,0.08608872,-0.014060533,-0.330012,0.3841315,0.101068914,0.5658098,-0.17230777,-0.24988878,-0.13654742,-0.0930746,-0.19799149,-0.6804251,0.29107493,0.16127019,0.041563105,0.4482864,0.076897174,0.4119222,0.37502912,0.3476435,-0.32366237,0.090391055,-0.67057073,0.4154275],"result":{"type":"object","properties":{"response":{"description":"The search results and analysis from Perplexity API","type":"string"}},"required":["response"]},"sql_tables":null,"sql_queries":null,"file_inbox":null,"oauth":null,"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}