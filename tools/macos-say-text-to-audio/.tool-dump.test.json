{"type":"Python","content":[{"name":"macOS Text-to-Speech","tool_router_key":"local:::__official_shinkai:::macos_text_to_speech","homepage":null,"author":"@@official.shinkai","version":"1.0.0","mcp_enabled":null,"py_code":"# /// script\n# dependencies = [\n#   \"requests\"\n# ]\n# ///\n\nimport subprocess\nimport sys\nfrom typing import Dict, Any, Optional, List\n\nclass CONFIG:\n    \"\"\"\n    No configurations needed for this tool by default.\n    But you could expand if you need environment checks, etc.\n    \"\"\"\n    pass\n\nclass INPUTS:\n    text: str  # The text to speak\n    voice: str = \"Alex\"  # A valid macOS voice, e.g. \"Alex\", \"Daniel\", \"Victoria\", etc.\n    rate: int = 175      # Words per minute. Mac `say` defaults around 175\n    background: bool = False\n\nclass OUTPUT:\n    success: bool\n    message: str\n\nasync def run(c: CONFIG, p: INPUTS) -> OUTPUT:\n    \"\"\"\n    Speaks out the given text on macOS using the 'say' command.\n    \"\"\"\n    # Validate platform\n    if sys.platform != 'darwin':\n        raise RuntimeError(\"This tool only works on macOS systems\")\n\n    # Validate inputs\n    text = p.text.strip()\n    if not text:\n        raise ValueError(\"No text provided to speak.\")\n    if p.rate < 1 or p.rate > 500:\n        raise ValueError(\"Rate must be between 1 and 500 words per minute.\")\n\n    # Build shell command\n    # Example: say -v \"Alex\" -r 175 \"Hello world\"\n    # If background is True, add an ampersand at the end (shell background).\n    voice_arg = f'-v \"{p.voice}\"'\n    rate_arg = f'-r {p.rate}'\n    quoted_text = text.replace('\"', '\\\\\"')  # Escape double quotes\n    cmd = f'say {voice_arg} {rate_arg} \"{quoted_text}\"'\n    if p.background:\n        cmd += \" &\"\n\n    # Run the command\n    try:\n        subprocess.run(cmd, shell=True, check=True)\n        success = True\n        message = f\"Spoke text with voice={p.voice}, rate={p.rate}, background={p.background}\"\n    except subprocess.CalledProcessError as e:\n        success = False\n        message = f\"Failed to speak text: {str(e)}\"\n\n    output = OUTPUT()\n    output.success = success\n    output.message = message\n    return output ","tools":[],"config":[],"description":"Speaks text aloud using macOS 'say' command. Available voices can be found by running 'say -v ?' in terminal, common voices include: Alex (default), Daniel, Karen, Samantha, Victoria","keywords":["macos","say","text-to-speech","audio"],"input_args":{"type":"object","properties":{"text":{"type":"string","description":"The text to convert to speech"},"voice":{"type":"string","description":"The voice to use (e.g., Alex, Daniel, Karen)","default":"Alex"}},"required":["text"]},"output_arg":{"json":""},"activated":false,"embedding":[-0.21001786,-0.27028805,0.10887264,0.0469725,-0.043566424,-0.22192141,-0.42572293,0.36945963,0.42020744,-0.0703274,0.117349096,0.97187626,0.028848294,-0.28487888,0.024464903,0.42663488,0.3680637,-1.2082574,-0.31109554,0.3559927,0.37300768,0.75373524,0.38505456,0.57735586,0.1960671,-0.5050724,-0.10345894,0.11379795,-0.39637417,-1.9727373,-0.00040634722,0.29896903,0.53457594,-0.24272117,-1.1193876,-0.46060544,-0.16285557,0.104683734,-0.97476715,-0.8461546,0.0011269543,0.07065396,0.1527215,-0.27448767,0.6398945,-0.23275131,0.56231153,-0.35246873,1.047945,0.8333011,0.018583898,-0.11628729,0.12138283,0.028354596,-0.2830443,0.29606688,0.6281998,0.25790438,0.3913802,0.23105949,-0.48455322,0.20156458,-3.3496878,-0.3126486,0.20217241,0.28026822,0.17513324,-0.8922775,-0.48030034,0.06946668,-0.7842094,0.04797164,0.20919803,-0.2727851,-0.47447264,-0.51204276,-0.35996515,-0.21974698,1.3171513,-0.4270236,0.7049804,0.8121382,-0.35880345,-0.3585851,-0.11962682,0.80887145,-0.8640696,-0.41614652,-0.11771181,-0.10520715,-0.7768261,0.25050464,0.21239112,0.55703175,0.29958364,0.55409545,-0.06901619,-0.310767,0.42639998,2.9585638,0.7914878,0.2518716,1.079739,-1.0603048,-0.2755888,-0.8908627,-0.81918305,-0.18291295,0.06314679,0.413283,-0.12025362,-0.3070906,0.06707405,0.25196633,-0.09971502,0.37307864,-0.9710023,0.26978794,0.15907629,0.8459717,-0.83227205,-0.111791074,-1.0629853,-0.0022049733,-0.05734423,-0.38673326,-0.051160045,0.59727997,0.92828596,0.01367663,0.8025634,-0.40716645,-0.21665038,-0.07655639,-0.044116378,0.10805212,0.66158986,-0.5952827,-0.32799506,-0.042174056,0.20192333,-1.3843964,1.1683041,-0.14461592,0.69061655,0.4959926,-0.15006003,0.21827409,0.24206638,0.12112622,-0.3517122,0.1183213,-0.20710698,0.14848596,0.36509556,0.05927886,-0.3593164,-0.14434661,-0.866929,0.6224909,-0.32615274,-0.3814299,0.6812602,0.05378743,0.5530561,0.23153125,0.35797602,-0.50831383,0.6482106,0.31859255,-0.06788534,-0.036308773,0.6547858,0.6407284,-0.715437,-0.52154815,-0.31512392,-0.13978764,-0.016081125,-0.31814623,-0.26243868,0.78354114,0.3358764,0.25376707,0.39204234,0.1527072,0.15609817,0.63724196,0.5429529,0.62031806,0.27640906,1.6143155,-0.064009406,-0.22144268,-0.055801682,0.24914162,0.62692535,0.466218,-0.002354551,0.40690532,-0.92083776,0.3860757,-0.009160286,-0.06186445,-0.6894502,-0.33641613,0.16261394,0.91150063,-0.36588883,-0.20819283,0.43131208,-0.37749526,1.004228,0.12477629,-0.17628914,0.014019556,0.49981222,-0.21574631,0.024474967,0.4480696,-0.41206545,0.21681002,-1.1401788,-0.79471916,-0.406244,-0.67531306,0.46619976,-0.083804786,-0.19582845,-0.24034266,-0.07725368,0.80672914,0.708653,-0.14464895,0.29844734,0.2623793,-0.17871922,0.0029729754,0.22436318,-0.44804996,-0.044644512,0.14118761,0.6221709,-0.057785157,0.8790674,-0.43193993,-0.026242033,-0.5817613,-0.32255575,1.4658253,0.58303446,0.15228271,0.24845831,0.821923,-0.40628555,0.3557589,-1.0782356,-0.15439793,0.10746413,0.6843558,0.4445743,0.14680123,0.26084352,0.20920493,-0.69646126,-0.24584733,-0.09150948,-0.5578116,-0.1424644,-0.3510578,0.48416665,0.0003337413,-0.054513946,-0.07366114,0.635058,-0.2966062,-0.24397677,-0.06688189,-0.2573458,-1.3122416,-0.41779017,-0.028254729,0.3765001,0.115943946,-0.38837704,-0.8887902,-0.5173362,-0.6088008,-0.52635515,0.15389523,-0.76165456,-0.98028004,0.055479802,0.070766136,2.2510126,0.2669385,-0.19179355,1.3059281,-0.06376019,0.028932575,-0.05588371,-0.1906611,-0.1750945,0.5147555,-0.8601743,0.14381462,0.87258375,0.15899213,-0.031566173,0.6805467,-0.081632495,-0.06586198,-0.20250213,-0.059871405,1.0699539,-0.32267365,0.30456412,-0.17208582,-0.100034565,-1.8167014,-0.2613297,-0.49421877,0.26908028,-0.8269732,-0.5482005,-0.05165702,-0.15774578,0.087874986,-0.40543383,0.811774,0.5719415,-0.20963848,0.16943859,-0.7642608,1.1863346,0.41590196,0.94426006,0.65637696,-1.106868,-0.025680162,0.10477586,1.7737546,-0.3202174,-0.13779466,0.36492863,0.025544118,-0.63753194,-1.7741573,0.21355869,0.36205435,-0.5584836,0.886095,-0.9208869,-0.33332217,-0.08365515,0.5937829,-0.46863878,-0.14198263,-0.22134188,1.3122103,-0.08513407,-0.32145572,0.38115826,0.21723291,0.4315477,0.12627517,0.30047342,-0.99864537,0.24649428,0.34460664,-0.5935213,-0.0043501593,-0.039256103,0.20195247,0.043078132,0.6013649,-0.26562962,0.32011002,0.43271992,-0.1964576,0.3681582,-0.84542006,0.29982722,-0.830514],"result":{"type":"object","properties":{"message":{"description":"Success or error message","type":"string"},"success":{"description":"Whether the text was successfully converted to speech","type":"boolean"}},"required":["success","message"]},"sql_tables":[],"sql_queries":[],"file_inbox":null,"oauth":null,"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}