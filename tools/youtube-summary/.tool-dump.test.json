{"type":"Deno","content":[{"name":"Youtube Transcript Summarizer","homepage":null,"author":"@@official.shinkai","version":"1.0.0","mcp_enabled":null,"js_code":"import { YoutubeTranscript } from 'npm:youtube-transcript@1.2.1';\nimport { shinkaiLlmPromptProcessor } from './shinkai-local-tools.ts'\n\n// Tool does not need any configuration\ntype CONFIG = Record<string, unknown>;\n\ntype INPUTS = {\n  url: string;\n  lang?: string;\n};\n\ntype OUTPUT = { summary: string };\n\nexport const run: Run<CONFIG, INPUTS, OUTPUT> = async (\n  _configurations,\n  parameters,\n): Promise<OUTPUT> => {\n  console.log(`transcripting ${parameters.url}`);\n\n  // Get transcription\n  const transcript = await YoutubeTranscript.fetchTranscript(parameters.url, {\n    lang: parameters.lang || 'en',\n  });\n\n  // Send to LLM to build a formatted response\n  const message = `\n    According to this transcription of a youtube video (which is in csv separated by ':::'):\n\n    offset;text\n    ${transcript.map((v) => `${Math.floor(v.offset)}:::${v.text}`).join('\\n')}\n    ---------------\n\n    The video URL is ${parameters.url}\n\n    ---------------\n\n    Write a detailed summary divided in sections along the video.\n    Format the answer using markdown.\n    Add markdown links referencing every section using this format https://www.youtube.com/watch?v={video_id}&t={offset} where 'offset' is a number and can be obtained from the transcription in csv format to generate the URL\n  `;\n  const response = await shinkaiLlmPromptProcessor({ format: 'text', prompt: message })\n  return { summary: response.message }\n};\n","tools":["local:::__official_shinkai:::shinkai_llm_prompt_processor"],"config":[],"description":"Fetches the transcript of a YouTube video and generates a formatted summary using an LLM.","keywords":["youtube","transcript","summary","video","LLM"],"input_args":{"type":"object","properties":{"lang":{"type":"string","description":"The language for the transcript (optional)"},"url":{"type":"string","description":"The URL of the YouTube video"}},"required":["url"]},"output_arg":{"json":""},"activated":false,"embedding":[0.24417154,0.19734439,0.102529034,0.07845658,-0.52256334,-0.07278866,-1.4288481,0.58159155,-0.05690217,0.46731168,-0.26297915,1.5467892,0.03060083,0.1853971,0.5240582,0.402361,-0.10395874,-0.7093528,-1.2980154,-0.6644637,0.5246045,0.5144053,-0.005859703,-0.002795875,0.13398084,-0.13722757,0.0988881,-0.22170883,-1.05729,-1.974208,0.7044495,0.5427211,-0.1600954,-0.37235877,-0.43531275,-1.3642497,0.25759494,0.46072227,-0.29303062,0.45807052,-0.09069871,0.13260761,-0.7884499,0.40837932,-0.044079416,-0.19628045,0.36812145,-0.09297891,1.429586,0.4427079,-0.40721554,-0.19848798,-0.10119513,0.49940184,-0.17915717,-0.6179758,-0.39339548,-0.5529279,0.9356658,0.3123923,-0.032802794,-0.024433821,-3.712047,-0.23951495,-0.08256255,-0.00081959367,-0.2639841,-0.07935271,-0.042774662,0.38688415,-1.0059881,-0.09803649,-0.59572977,0.814311,-0.5221902,-0.5012764,0.48325205,-0.30261776,0.26367682,-0.53179926,0.06951301,0.061814457,0.22168238,-0.3888134,-0.534005,0.90116966,-0.47088078,-0.24928518,-0.13719139,0.26346442,-0.9183562,-0.030993707,0.6006964,0.3423557,-0.5400157,-0.3961212,0.6813091,-0.47255784,0.072843686,2.6402292,1.0518452,0.014833745,0.19581196,-1.1671292,0.4568199,-0.7067182,0.4712767,-0.42213953,0.31647155,0.03569021,0.78631955,-0.17547676,0.15703131,0.5494655,0.51366603,0.37787887,-0.8177275,0.024860678,0.031629916,0.36884144,-0.27299085,-0.12971844,-0.40000242,-0.1835193,-0.46058705,0.14622344,-0.19064286,0.15234984,0.5715864,-0.77189326,-0.041560702,-0.055389218,-0.67318386,0.6700791,0.0252342,0.3069031,0.40326577,-0.87064207,0.31288427,-0.81770647,-0.1878199,-2.0616624,0.6396351,-0.018783357,0.3494062,-0.007143516,-0.61060214,0.37303814,-0.29269612,-0.4655582,0.36514562,0.6425365,0.22800705,-0.08458963,0.88167477,-0.1330504,-0.7245854,-0.55843586,-0.20911324,0.05080198,-0.38124093,-0.07187716,0.6246613,-0.3707459,0.27167234,-0.5985511,0.77051884,0.16535029,0.39369065,0.3219569,0.28743756,0.11867219,0.014691648,0.7465866,-0.025730863,-0.8936492,-0.47385302,-0.30205834,-0.001743041,0.2954519,0.48125675,0.20621659,-0.40950486,-0.049020827,-0.23899868,0.6467908,0.091393754,0.24775657,0.9617225,0.74220145,-0.34000647,1.6780503,-1.1015478,-0.17474666,-0.110760994,0.090010695,-0.33930808,0.3810777,0.30354834,0.06082812,-0.94196254,-0.21232547,0.2545458,0.0030393377,-0.33144268,-0.6420931,-0.31870162,0.73520976,-0.3708747,-0.61108226,0.49857873,-0.90684867,0.5148103,0.54922837,-0.07928188,-0.26120943,-0.038779475,0.20676926,-0.7996673,0.15705638,0.3183662,-0.30029947,-0.13405727,-0.5464795,0.07807019,0.5015564,-0.59673375,0.79330665,0.18784837,-0.10255782,0.75150037,1.3288817,0.3845718,1.1971699,0.7075078,0.16416433,-0.41086066,0.3102138,-0.097463936,-0.2673486,0.18279082,0.25195473,0.06900334,0.2855162,0.20720245,-0.08059408,-0.6182951,0.043135732,-0.2979915,1.7043521,0.43461114,0.40748876,0.5944085,0.82579154,0.67386997,-0.36236438,-1.4638319,-0.29981524,-0.20904005,0.3302422,-0.7504715,0.6140132,0.19156012,0.29335597,-0.5213281,-0.36602744,-0.6985182,-0.4369906,0.02852416,0.18730882,-0.304339,0.50003487,-0.117384635,0.042940587,-0.44917065,0.42793047,0.18428914,0.4210631,-0.44503474,-0.9356448,0.004217319,-0.09880988,0.20037884,0.31335887,-0.71750635,-0.13787965,-0.07823495,-0.30337232,0.015892282,0.5783893,0.0971319,-0.46106353,-0.9955176,0.28114504,1.5212307,0.25841552,0.15547444,0.58635306,0.34714323,0.099620014,-0.92980224,0.02720769,-0.1407203,-0.4914137,-0.18994363,-0.67178017,0.91596067,-0.31501728,-0.43124107,0.4720706,-0.42315593,0.41623482,0.25782207,-0.2960296,0.46700698,-0.3403456,0.3281321,0.9958534,-0.17493963,-1.8942531,-0.0359265,-0.29469064,-0.25949264,-0.2713475,0.24172355,1.0775188,-0.64368904,0.6424018,0.24049826,1.5086875,0.114213005,-0.10222523,-0.35382256,0.08145497,0.73520577,-0.47250053,-0.18394965,-0.30506626,-0.7605995,-0.29497388,0.32555652,1.0397202,0.033820342,1.0129087,0.04709029,-0.25415474,-0.38737953,-1.0072191,0.64024556,-0.24964046,-0.36732754,0.7531272,-0.40172476,-0.31869656,0.7236952,0.8826823,0.509656,-0.050619513,0.38980362,1.7166919,0.4998139,-0.35924172,0.27793282,0.12833467,0.4177679,0.11223206,0.0217743,-0.5773304,0.043101497,-0.34799045,0.5726778,-0.45731115,0.72561467,0.77736396,0.109751396,0.28501368,0.629063,0.6245078,0.36264887,-0.022848628,-0.10811771,-0.037618604,-0.21257223,-0.74229556],"result":{"type":"object","properties":{"summary":{"description":"The generated summary of the video","type":"string"}},"required":["summary"]},"sql_tables":[],"sql_queries":[],"file_inbox":null,"oauth":null,"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}