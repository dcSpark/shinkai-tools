{"type":"Python","content":[{"version":"1.0.0","name":"macOS Text-to-Speech","homepage":null,"author":"@@official.shinkai","py_code":"# /// script\n# dependencies = [\n#   \"requests\"\n# ]\n# ///\n\nimport subprocess\nimport sys\nfrom typing import Dict, Any, Optional, List\n\nclass CONFIG:\n    \"\"\"\n    No configurations needed for this tool by default.\n    But you could expand if you need environment checks, etc.\n    \"\"\"\n    pass\n\nclass INPUTS:\n    text: str  # The text to speak\n    voice: str = \"Alex\"  # A valid macOS voice, e.g. \"Alex\", \"Daniel\", \"Victoria\", etc.\n    rate: int = 175      # Words per minute. Mac `say` defaults around 175\n    background: bool = False\n\nclass OUTPUT:\n    success: bool\n    message: str\n\nasync def run(c: CONFIG, p: INPUTS) -> OUTPUT:\n    \"\"\"\n    Speaks out the given text on macOS using the 'say' command.\n    \"\"\"\n    # Validate platform\n    if sys.platform != 'darwin':\n        raise RuntimeError(\"This tool only works on macOS systems\")\n\n    # Validate inputs\n    text = p.text.strip()\n    if not text:\n        raise ValueError(\"No text provided to speak.\")\n    if p.rate < 1 or p.rate > 500:\n        raise ValueError(\"Rate must be between 1 and 500 words per minute.\")\n\n    # Build shell command\n    # Example: say -v \"Alex\" -r 175 \"Hello world\"\n    # If background is True, add an ampersand at the end (shell background).\n    voice_arg = f'-v \"{p.voice}\"'\n    rate_arg = f'-r {p.rate}'\n    quoted_text = text.replace('\"', '\\\\\"')  # Escape double quotes\n    cmd = f'say {voice_arg} {rate_arg} \"{quoted_text}\"'\n    if p.background:\n        cmd += \" &\"\n\n    # Run the command\n    try:\n        subprocess.run(cmd, shell=True, check=True)\n        success = True\n        message = f\"Spoke text with voice={p.voice}, rate={p.rate}, background={p.background}\"\n    except subprocess.CalledProcessError as e:\n        success = False\n        message = f\"Failed to speak text: {str(e)}\"\n\n    output = OUTPUT()\n    output.success = success\n    output.message = message\n    return output ","tools":[],"config":[],"description":"Speaks text aloud using macOS 'say' command. Available voices can be found by running 'say -v ?' in terminal, common voices include: Alex (default), Daniel, Karen, Samantha, Victoria","keywords":["macos","say","text-to-speech","audio"],"input_args":{"type":"object","properties":{"text":{"type":"string","description":"The text to convert to speech"},"voice":{"type":"string","description":"The voice to use (e.g., Alex, Daniel, Karen)"}},"required":["text"]},"output_arg":{"json":""},"activated":false,"embedding":[-0.20996182,-0.27047008,0.10909513,0.04681307,-0.04339981,-0.22203249,-0.42553294,0.36968714,0.42041692,-0.07031379,0.11709703,0.97172076,0.029112272,-0.28498712,0.02440672,0.42682913,0.3680531,-1.2082635,-0.31105942,0.3561033,0.37297422,0.75370383,0.3848436,0.57725435,0.19613346,-0.50523126,-0.10350728,0.11381145,-0.39592314,-1.9725611,-0.00071391463,0.2990509,0.5347829,-0.24256088,-1.11952,-0.46068838,-0.16283579,0.1045834,-0.97479296,-0.8461398,0.0010587238,0.07061922,0.15274018,-0.27455184,0.6396981,-0.23281863,0.5622311,-0.35286015,1.0481384,0.83332294,0.018731859,-0.116278626,0.121206716,0.028274829,-0.28283173,0.2959965,0.6280918,0.25802678,0.391329,0.23107098,-0.4845133,0.20167714,-3.3492155,-0.31258312,0.20189512,0.28010756,0.17528257,-0.89240515,-0.48004317,0.069471344,-0.7842263,0.048026413,0.20918822,-0.27291936,-0.47467658,-0.5117947,-0.35998368,-0.2194851,1.3171765,-0.42711642,0.7048765,0.8121859,-0.35878772,-0.35870668,-0.11962196,0.80876076,-0.8640397,-0.41617778,-0.11756031,-0.10541054,-0.77695847,0.2506544,0.21251126,0.55714095,0.29982492,0.55401665,-0.06901653,-0.31078726,0.42628017,2.9586163,0.7910265,0.25189954,1.0798883,-1.0602045,-0.27551478,-0.8909793,-0.8189616,-0.18294801,0.06306167,0.41334093,-0.12023428,-0.30702972,0.06735352,0.25207055,-0.09976285,0.37307882,-0.9709208,0.26991218,0.15915637,0.845999,-0.83233625,-0.1118194,-1.0630043,-0.0020996705,-0.05709465,-0.38672507,-0.051267467,0.597449,0.92843246,0.013641497,0.80245507,-0.40721512,-0.21673727,-0.0767016,-0.044046618,0.10810991,0.66174614,-0.5950654,-0.32807258,-0.042271417,0.2021027,-1.3844658,1.1681721,-0.14476188,0.6905505,0.49609035,-0.15002328,0.21826398,0.2418819,0.12108706,-0.35164472,0.1182407,-0.20724094,0.1485831,0.36515898,0.059260633,-0.35925156,-0.14448534,-0.8669288,0.6223891,-0.32596993,-0.3813873,0.68123955,0.053827763,0.5530129,0.23146355,0.35792375,-0.50846106,0.6481786,0.31868932,-0.06793524,-0.036215775,0.65472054,0.6408408,-0.71545744,-0.5213979,-0.31526703,-0.13973895,-0.016295243,-0.31835943,-0.2623213,0.7836248,0.33592984,0.25405258,0.39186454,0.15274103,0.15612555,0.63718486,0.54281485,0.62030137,0.27660272,1.6141438,-0.0638879,-0.22127572,-0.055859305,0.24907188,0.6267633,0.46611273,-0.002259314,0.40701175,-0.9208598,0.38595754,-0.009311108,-0.061864182,-0.68958586,-0.3364566,0.16251802,0.9116334,-0.36602592,-0.2083601,0.43137866,-0.37740082,1.0041742,0.124862336,-0.17634988,0.014128802,0.49973318,-0.21571735,0.024460623,0.448195,-0.4122584,0.21673048,-1.1399987,-0.79495734,-0.40616402,-0.6754672,0.46634066,-0.0837629,-0.19554743,-0.2401822,-0.07737016,0.80667365,0.708733,-0.14467777,0.298282,0.26236904,-0.17899883,0.0028408244,0.22405317,-0.44805685,-0.04474719,0.14121608,0.6222239,-0.05800059,0.87914956,-0.43204755,-0.025964964,-0.581528,-0.32260087,1.4657419,0.5827977,0.1521448,0.24823576,0.82179606,-0.40657517,0.3557044,-1.0780503,-0.1543586,0.107481636,0.6844785,0.4445976,0.1467362,0.26083302,0.20919928,-0.6965781,-0.24579637,-0.09168992,-0.5577704,-0.14230628,-0.35099974,0.4843237,0.00020489097,-0.054511346,-0.07374679,0.63509357,-0.29661363,-0.24423686,-0.06682042,-0.25736785,-1.3121488,-0.41780674,-0.028373186,0.37665218,0.115950614,-0.38836068,-0.88883466,-0.5172617,-0.60871726,-0.52648175,0.15403298,-0.76186115,-0.9803993,0.055575326,0.07085566,2.250808,0.26711607,-0.1917469,1.3059776,-0.06401149,0.028810438,-0.055778716,-0.1907548,-0.17497341,0.5150066,-0.8601383,0.14390829,0.8729828,0.15928315,-0.031574868,0.6805485,-0.08140559,-0.06576243,-0.20254904,-0.0598159,1.0698624,-0.32277068,0.30467135,-0.17205676,-0.100183904,-1.8166806,-0.2614048,-0.4940701,0.26879615,-0.82682586,-0.54821086,-0.051802084,-0.1578385,0.08774774,-0.4054814,0.8117478,0.5719478,-0.209771,0.16921642,-0.7640906,1.1865647,0.41583383,0.9445969,0.6564009,-1.1069878,-0.025608305,0.104455635,1.7738543,-0.32010296,-0.13775398,0.36503714,0.02555751,-0.6373846,-1.7743666,0.2136199,0.3623203,-0.5581663,0.88610613,-0.92104876,-0.33315966,-0.083643824,0.5936755,-0.46854147,-0.1420834,-0.22109479,1.3122208,-0.085376844,-0.32150435,0.38152808,0.21730469,0.43153286,0.12620139,0.3004433,-0.9986944,0.24666335,0.3445308,-0.59360635,-0.004368119,-0.039370075,0.20210335,0.04278601,0.6013774,-0.26568496,0.3201297,0.4326938,-0.19646552,0.36788496,-0.8453812,0.299692,-0.8306487],"result":{"type":"object","properties":{"message":{"description":"Success or error message","type":"string"},"success":{"description":"Whether the text was successfully converted to speech","type":"boolean"}},"required":["success","message"]},"sql_tables":[],"sql_queries":[],"file_inbox":null,"oauth":null,"assets":null,"runner":"any","operating_system":["linux","macos","windows"],"tool_set":""},false]}